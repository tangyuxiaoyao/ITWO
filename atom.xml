<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ITWO</title>
  
  <subtitle>毋庸多言,只管前行.</subtitle>
  <link href="/ITWO/atom.xml" rel="self"/>
  
  <link href="https://tangyuxiaoyao.github.io/ITWO/"/>
  <updated>2018-03-28T07:41:43.853Z</updated>
  <id>https://tangyuxiaoyao.github.io/ITWO/</id>
  
  <author>
    <name>唐钰逍遥</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>巧用hbase shell 批量提取数据</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/28/%E5%B7%A7%E7%94%A8hbase-shell-%E6%89%B9%E9%87%8F%E6%8F%90%E5%8F%96%E6%95%B0%E6%8D%AE/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/28/巧用hbase-shell-批量提取数据/</id>
    <published>2018-03-28T06:47:09.000Z</published>
    <updated>2018-03-28T07:41:43.853Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x63CF;&#x8FF0;"><a href="#&#x9700;&#x6C42;&#x63CF;&#x8FF0;" class="headerlink" title="&#x9700;&#x6C42;&#x63CF;&#x8FF0;"></a>&#x9700;&#x6C42;&#x63CF;&#x8FF0;</h2><blockquote><p>&#x6709;&#x4E00;&#x6279;&#x5361;&#x53F7;&#x7684;&#x9700;&#x6C42;&#x63D0;&#x53D6;&#x5168;&#x91CF;&#x7684;&#x6307;&#x6807;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6279;&#x6570;&#x636E;&#x5B58;&#x5728;&#x4E8E;hbase&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x8003;&#x8651;&#x53BB;&#x505A;mapping&#xFF0C;&#x6765;&#x62FF;&#x5230;&#x6570;&#x636E;&#xFF0C;&#x9996;&#x5148;&#x8003;&#x8651;&#x7684;&#x662F;&#x901A;&#x8FC7;hive sql&#x8BED;&#x53E5;&#x53BB;&#x505A;join&#x62FF;&#x5230;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x662F;&#x6700;&#x7B80;&#x5355;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;hbase&#x96C6;&#x7FA4;&#x6CA1;&#x6709;&#x88C5;hive&#xFF0C;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x610F;&#x5916;&#xFF0C;&#x7B2C;&#x4E8C;&#x7B56;&#x7565;&#x662F;&#x4F7F;&#x7528;Python&#x8BBF;&#x95EE;hbase(happybase),&#x4F46;&#x662F;&#x4E5F;&#x8981;&#x5B89;&#x88C5;&#x5F88;&#x591A;&#x4E1C;&#x897F;&#xFF0C;&#x6700;&#x540E;&#x662F;&#x4F7F;&#x7528;hbase shell &#x62FF;&#x5230;&#x6570;&#x636E;&#x4EE5;&#x540E;&#xFF0C;&#x518D;&#x6279;&#x91CF;&#x62FC;&#x88C5;&#x3002;<br><a id="more"></a></p><h2 id="&#x6280;&#x672F;&#x5206;&#x6790;&#x5B9E;&#x73B0;"><a href="#&#x6280;&#x672F;&#x5206;&#x6790;&#x5B9E;&#x73B0;" class="headerlink" title="&#x6280;&#x672F;&#x5206;&#x6790;&#x5B9E;&#x73B0;"></a>&#x6280;&#x672F;&#x5206;&#x6790;&#x5B9E;&#x73B0;</h2></blockquote><h3 id="hive"><a href="#hive" class="headerlink" title="hive"></a>hive</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">external</span> <span class="keyword">table</span> hive_hbase_test(<span class="keyword">key</span> <span class="built_in">int</span>,<span class="keyword">value</span> <span class="keyword">string</span>)</div><div class="line"><span class="keyword">stored</span> <span class="keyword">by</span> <span class="string">&apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;</span> <span class="keyword">with</span> serdeproperties(<span class="string">&quot;hbase.columns.mapping&quot;</span>=<span class="string">&quot;:key,cf1:val&quot;</span>) tblproperties(<span class="string">&quot;hbase.table.name&quot;</span>=<span class="string">&quot;hive_hbase_test&quot;</span>);</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x5728;&#x73B0;&#x6709;hbase&#x6570;&#x636E;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x5EFA;&#x7ACB;&#x4E00;&#x5F20;&#x5916;&#x8868;&#x6253;&#x901A;hive&#x548C;hbase&#x6570;&#x636E;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x719F;&#x6089;&#x7684;sqljoin&#x7136;&#x540E; &#x901A;&#x8FC7; hive -e &#x5BFC;&#x51FA;&#x5230;&#x672C;&#x5730;&#x6536;&#x5DE5;&#x3002;</p></blockquote><h3 id="python"><a href="#python" class="headerlink" title="python"></a>python</h3><blockquote><p>&#x6B64;&#x79CD;&#x65B9;&#x6CD5;&#x6CA1;&#x6709;&#x8BD5;&#x8FC7;&#xFF0C;&#x53EA;&#x662F;&#x5B58;&#x5728;&#x4E0E;&#x7406;&#x8BBA;&#x4E2D;,&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x6B64;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x4F18;&#x52BF;:&#x53EF;&#x4EE5;&#x4F7F;&#x7528;hbase&#x8FDE;&#x63A5;&#x6C60;&#xFF08;&#x56E0;&#x4E3A;&#x662F;&#x901A;&#x8FC7;&#x505C;thift&#x534F;&#x8BAE;&#x901A;&#x4FE1;&#xFF0C;tcp&#x901A;&#x4FE1;&#xFF09;&#x3002;<br><a href="https://my.oschina.net/wolfoxliu/blog/856175" target="_blank" rel="external">Hbase&#x5B9E;&#x6218;&#x6559;&#x7A0B;&#x4E4B;happybase</a></p></blockquote><h3 id="hbase&#xFF0C;shell-&#xFF0C;python"><a href="#hbase&#xFF0C;shell-&#xFF0C;python" class="headerlink" title="hbase&#xFF0C;shell &#xFF0C;python"></a>hbase&#xFF0C;shell &#xFF0C;python</h3><blockquote><p>&#x6B21;&#x7BC7;&#x5E45;&#x7684;&#x91CD;&#x70B9;&#x4ECB;&#x7ECD;&#x7684;&#x4E5F;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x3002;</p></blockquote><ol><li>&#x5229;&#x7528;shell&#x751F;&#x6210;&#x8981;&#x63D0;&#x53D6;&#x7684;hbase shell&#x8BED;&#x53E5;<blockquote><p>&#x5229;&#x7528;shell &#x62FC;&#x63A5;&#x5B57;&#x7B26;&#x7684;&#x65B9;&#x5F0F;&#x628A;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x751F;&#x6210;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x679C;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x7684;key&#x8F83;&#x591A;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x591A;&#x751F;&#x6210;&#x5230;&#x51E0;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6B64;&#x5904;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#xFF0C;&#x8FDB;&#x800C;&#x4F7F;&#x7528;hbase shell &#x8BED;&#x53E5;&#x6587;&#x4EF6;&#x5F97;&#x5230;&#x89E3;&#x6790;&#x5230;&#x7ED3;&#x679C;&#x3002;</p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">FILENAME=$1</div><div class="line">cat $FILENAME | while read LINE</div><div class="line">do</div><div class="line">echo &quot;exists &apos;$LINE&apos;&quot; &gt;&gt;temp_get</div><div class="line">echo &quot;get &apos;card_md5&apos;,&apos;$LINE&apos;&quot; &gt;&gt;temp_get</div><div class="line">done</div><div class="line">hbase shell temp_get &gt;UDcredit-20180124-1_card_res.csv</div><div class="line"></div><div class="line">if test $? -eq 0</div><div class="line">then</div><div class="line">exit</div><div class="line">fi</div></pre></td></tr></tbody></table></figure></blockquote></li></ol><blockquote><p>&#x8981;&#x70B9;:&#x56E0;&#x4E3A;hbase shell&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x4E2D;&#x4E0D;&#x4F1A;&#x6709;key&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6682;&#x5B58;&#x4E0B;key&#x5230;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x80AF;&#x5B9A;&#x662F;&#x8981;&#x4F34;&#x968F;&#x8FD9;&#x7ED3;&#x679C;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x8FD9;&#x6837;&#x4FBF;&#x4E8E;&#x6211;&#x4EEC;&#x5904;&#x7406;&#x3002;&#x6240;&#x4EE5;shell&#x903B;&#x8F91;&#x5982;&#x4E0A;&#x3002;</p></blockquote><ol><li>&#x5229;&#x7528;Python&#x5904;&#x7406;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x4E3A;&#x6211;&#x4EEC;&#x8981;&#x7684;kv&#x5F62;&#x5F0F;</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line">md5_aes={}</div><div class="line"></div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> sys.stdin:</div><div class="line">detail = line.strip()</div><div class="line"><span class="keyword">if</span>(<span class="string">&apos;Table&apos;</span> <span class="keyword">in</span> detail):</div><div class="line">lines = detail.split(<span class="string">&quot; &quot;</span>)</div><div class="line">md5card = lines[<span class="number">1</span>]</div><div class="line">md5_aes[md5card]=<span class="string">&apos;&apos;</span></div><div class="line"><span class="keyword">if</span>(<span class="string">&quot;value&quot;</span> <span class="keyword">in</span> detail):</div><div class="line">lines = detail.split(<span class="string">&quot;value=&quot;</span>)</div><div class="line">sm3card = lines1</div><div class="line">md5_aes[md5card]=sm3card</div><div class="line"></div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> md5_aes.keys():</div><div class="line"><span class="keyword">print</span> key+<span class="string">&quot;,&quot;</span>+md5_aes[key]</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x5229;&#x7528;&#x5F53;&#x524D;&#x884C;&#x7684;&#x7279;&#x6B8A;&#x5173;&#x952E;&#x5B57;&#x6765;&#x5206;&#x5272;&#x5F53;&#x524D;&#x884C;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;&#x5B57;&#x5178;&#xFF0C;&#x62FC;&#x63A5;kv&#x8F93;&#x51FA;&#x5F97;&#x5230;&#x6211;&#x4EEC;&#x8981;&#x7684;&#x7ED3;&#x679C;&#x3002;</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x63CF;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x63CF;&amp;#x8FF0;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x6709;&amp;#x4E00;&amp;#x6279;&amp;#x5361;&amp;#x53F7;&amp;#x7684;&amp;#x9700;&amp;#x6C42;&amp;#x63D0;&amp;#x53D6;&amp;#x5168;&amp;#x91CF;&amp;#x7684;&amp;#x6307;&amp;#x6807;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6279;&amp;#x6570;&amp;#x636E;&amp;#x5B58;&amp;#x5728;&amp;#x4E8E;hbase&amp;#x4E2D;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x8003;&amp;#x8651;&amp;#x53BB;&amp;#x505A;mapping&amp;#xFF0C;&amp;#x6765;&amp;#x62FF;&amp;#x5230;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x9996;&amp;#x5148;&amp;#x8003;&amp;#x8651;&amp;#x7684;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;hive sql&amp;#x8BED;&amp;#x53E5;&amp;#x53BB;&amp;#x505A;join&amp;#x62FF;&amp;#x5230;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x4E5F;&amp;#x662F;&amp;#x6700;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x8BE5;hbase&amp;#x96C6;&amp;#x7FA4;&amp;#x6CA1;&amp;#x6709;&amp;#x88C5;hive&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E48;&amp;#x610F;&amp;#x5916;&amp;#xFF0C;&amp;#x7B2C;&amp;#x4E8C;&amp;#x7B56;&amp;#x7565;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;Python&amp;#x8BBF;&amp;#x95EE;hbase(happybase),&amp;#x4F46;&amp;#x662F;&amp;#x4E5F;&amp;#x8981;&amp;#x5B89;&amp;#x88C5;&amp;#x5F88;&amp;#x591A;&amp;#x4E1C;&amp;#x897F;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;hbase shell &amp;#x62FF;&amp;#x5230;&amp;#x6570;&amp;#x636E;&amp;#x4EE5;&amp;#x540E;&amp;#xFF0C;&amp;#x518D;&amp;#x6279;&amp;#x91CF;&amp;#x62FC;&amp;#x88C5;&amp;#x3002;&lt;br&gt;
    
    </summary>
    
    
      <category term="python" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/python/"/>
    
      <category term="hbase" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hbase/"/>
    
      <category term="shell" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>Hadoop HDFS 数据自动平衡</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/23/%20Hadoop%20HDFS%20%E6%95%B0%E6%8D%AE%E8%87%AA%E5%8A%A8%E5%B9%B3%E8%A1%A1/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/23/ Hadoop HDFS 数据自动平衡/</id>
    <published>2018-03-23T08:45:34.330Z</published>
    <updated>2018-03-23T08:45:34.330Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="Hadoop-HDFS-&#x6570;&#x636E;&#x81EA;&#x52A8;&#x5E73;&#x8861;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;"><a href="#Hadoop-HDFS-&#x6570;&#x636E;&#x81EA;&#x52A8;&#x5E73;&#x8861;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;" class="headerlink" title="Hadoop HDFS &#x6570;&#x636E;&#x81EA;&#x52A8;&#x5E73;&#x8861;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;"></a>Hadoop HDFS &#x6570;&#x636E;&#x81EA;&#x52A8;&#x5E73;&#x8861;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;</h2><blockquote><p>&#x5728;Hadoop&#x4E2D;&#xFF0C;&#x5305;&#x542B;&#x4E00;&#x4E2A;start-balancer.sh&#x811A;&#x672C;&#xFF0C;&#x901A;&#x8FC7;&#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x542F;&#x52A8;HDFS&#x6570;&#x636E;&#x5747;&#x8861;&#x670D;&#x52A1;&#x3002;&#x8BE5;&#x5DE5;&#x5177;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x70ED;&#x63D2;&#x62D4;&#xFF0C;&#x5373;&#x65E0;&#x987B;&#x91CD;&#x542F;&#x8BA1;&#x7B97;&#x673A;&#x548C; Hadoop &#x670D;&#x52A1;&#x3002;HadoopHome/bin&#x76EE;&#x5F55;&#x4E0B;&#x7684;start&#x2212;balancer.sh&#x811A;&#x672C;&#x5C31;&#x662F;&#x8BE5;&#x4EFB;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x811A;&#x672C;&#x3002;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x4E3A;&#xFF1A;&#x2018;HadoopHome/bin&#x76EE;&#x5F55;&#x4E0B;&#x7684;start&#x2212;balancer.sh&#x811A;&#x672C;&#x5C31;&#x662F;&#x8BE5;&#x4EFB;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x811A;&#x672C;&#x3002;&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x4E3A;&#xFF1A;&#x2018;Hadoop_home/bin/start-balancer.sh &#x2013;threshold`<br><a id="more"></a></p><h2 id="&#x5F71;&#x54CD;Balancer&#x7684;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;"><a href="#&#x5F71;&#x54CD;Balancer&#x7684;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;" class="headerlink" title="&#x5F71;&#x54CD;Balancer&#x7684;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;"></a>&#x5F71;&#x54CD;Balancer&#x7684;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</h2></blockquote><p>-threshold</p><blockquote><p>&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#xFF1A;10&#xFF0C;&#x53C2;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4;&#xFF1A;0-100<br>&#x53C2;&#x6570;&#x542B;&#x4E49;&#xFF1A;&#x5224;&#x65AD;&#x96C6;&#x7FA4;&#x662F;&#x5426;&#x5E73;&#x8861;&#x7684;&#x9608;&#x503C;&#x3002;&#x7406;&#x8BBA;&#x4E0A;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x7684;&#x8D8A;&#x5C0F;&#xFF0C;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x5C31;&#x8D8A;&#x5E73;&#x8861;<br>dfs.balance.bandwidthPerSec<br>&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#xFF1A;1048576&#xFF08;1M/S&#xFF09;<br>&#x53C2;&#x6570;&#x542B;&#x4E49;&#xFF1A;Balancer&#x8FD0;&#x884C;&#x65F6;&#x5141;&#x8BB8;&#x5360;&#x7528;&#x7684;&#x5E26;&#x5BBD;<br>&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p></blockquote><p>#&#x542F;&#x52A8;&#x6570;&#x636E;&#x5747;&#x8861;&#xFF0C;&#x9ED8;&#x8BA4;&#x9608;&#x503C;&#x4E3A; 10%<br>$Hadoop_home/bin/start-balancer.sh</p><p>#&#x542F;&#x52A8;&#x6570;&#x636E;&#x5747;&#x8861;&#xFF0C;&#x9608;&#x503C; 5%<br>bin/start-balancer.sh &#x2013;threshold 5</p><p>#&#x505C;&#x6B62;&#x6570;&#x636E;&#x5747;&#x8861;<br>$Hadoop_home/bin/stop-balancer.sh<br>&#x5728;hdfs-site.xml&#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5747;&#x8861;&#x5360;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x5E26;&#x5BBD;&#x9650;&#x5236;</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.balance.bandwidthPerSec<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>1048576<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span> Specifies the maximum bandwidth that each datanode can utilize for the balancing purpose in term of the number of bytes per second. <span class="tag">&lt;/<span class="name">description</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></div></pre></td></tr></tbody></table></figure><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;Hadoop-HDFS-&amp;#x6570;&amp;#x636E;&amp;#x81EA;&amp;#x52A8;&amp;#x5E73;&amp;#x8861;&amp;#x811A;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&quot;&gt;&lt;a href=&quot;#Hadoop-HDFS-&amp;#x6570;&amp;#x636E;&amp;#x81EA;&amp;#x52A8;&amp;#x5E73;&amp;#x8861;&amp;#x811A;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&quot; class=&quot;headerlink&quot; title=&quot;Hadoop HDFS &amp;#x6570;&amp;#x636E;&amp;#x81EA;&amp;#x52A8;&amp;#x5E73;&amp;#x8861;&amp;#x811A;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&quot;&gt;&lt;/a&gt;Hadoop HDFS &amp;#x6570;&amp;#x636E;&amp;#x81EA;&amp;#x52A8;&amp;#x5E73;&amp;#x8861;&amp;#x811A;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;Hadoop&amp;#x4E2D;&amp;#xFF0C;&amp;#x5305;&amp;#x542B;&amp;#x4E00;&amp;#x4E2A;start-balancer.sh&amp;#x811A;&amp;#x672C;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD0;&amp;#x884C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5DE5;&amp;#x5177;&amp;#xFF0C;&amp;#x542F;&amp;#x52A8;HDFS&amp;#x6570;&amp;#x636E;&amp;#x5747;&amp;#x8861;&amp;#x670D;&amp;#x52A1;&amp;#x3002;&amp;#x8BE5;&amp;#x5DE5;&amp;#x5177;&amp;#x53EF;&amp;#x4EE5;&amp;#x505A;&amp;#x5230;&amp;#x70ED;&amp;#x63D2;&amp;#x62D4;&amp;#xFF0C;&amp;#x5373;&amp;#x65E0;&amp;#x987B;&amp;#x91CD;&amp;#x542F;&amp;#x8BA1;&amp;#x7B97;&amp;#x673A;&amp;#x548C; Hadoop &amp;#x670D;&amp;#x52A1;&amp;#x3002;HadoopHome/bin&amp;#x76EE;&amp;#x5F55;&amp;#x4E0B;&amp;#x7684;start&amp;#x2212;balancer.sh&amp;#x811A;&amp;#x672C;&amp;#x5C31;&amp;#x662F;&amp;#x8BE5;&amp;#x4EFB;&amp;#x52A1;&amp;#x7684;&amp;#x542F;&amp;#x52A8;&amp;#x811A;&amp;#x672C;&amp;#x3002;&amp;#x542F;&amp;#x52A8;&amp;#x547D;&amp;#x4EE4;&amp;#x4E3A;&amp;#xFF1A;&amp;#x2018;HadoopHome/bin&amp;#x76EE;&amp;#x5F55;&amp;#x4E0B;&amp;#x7684;start&amp;#x2212;balancer.sh&amp;#x811A;&amp;#x672C;&amp;#x5C31;&amp;#x662F;&amp;#x8BE5;&amp;#x4EFB;&amp;#x52A1;&amp;#x7684;&amp;#x542F;&amp;#x52A8;&amp;#x811A;&amp;#x672C;&amp;#x3002;&amp;#x542F;&amp;#x52A8;&amp;#x547D;&amp;#x4EE4;&amp;#x4E3A;&amp;#xFF1A;&amp;#x2018;Hadoop_home/bin/start-balancer.sh &amp;#x2013;threshold`&lt;br&gt;
    
    </summary>
    
    
      <category term="hadoop" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hadoop/"/>
    
      <category term="hdfs" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hdfs/"/>
    
      <category term="balancer" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/balancer/"/>
    
  </entry>
  
  <entry>
    <title>hexo yilla 和github 结合搭建个人博客</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/23/hexo%20yilia%20github%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/23/hexo yilia github 搭建个人博客/</id>
    <published>2018-03-23T03:14:19.712Z</published>
    <updated>2018-03-23T03:14:19.712Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h1 id="&#x4E3A;&#x4EC0;&#x4E48;&#x8003;&#x8651;&#x8FD9;&#x6837;&#x7684;&#x642D;&#x914D;&#x65B9;&#x5F0F;"><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x8003;&#x8651;&#x8FD9;&#x6837;&#x7684;&#x642D;&#x914D;&#x65B9;&#x5F0F;" class="headerlink" title="&#x4E3A;&#x4EC0;&#x4E48;&#x8003;&#x8651;&#x8FD9;&#x6837;&#x7684;&#x642D;&#x914D;&#x65B9;&#x5F0F;?"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x8003;&#x8651;&#x8FD9;&#x6837;&#x7684;&#x642D;&#x914D;&#x65B9;&#x5F0F;?</h1><h2 id="&#x6784;&#x5EFA;&#x9700;&#x6C42;"><a href="#&#x6784;&#x5EFA;&#x9700;&#x6C42;" class="headerlink" title="&#x6784;&#x5EFA;&#x9700;&#x6C42;"></a>&#x6784;&#x5EFA;&#x9700;&#x6C42;</h2><blockquote><p>&#x73B0;&#x9636;&#x6BB5;&#x6709;&#x5F88;&#x591A;&#x7684;&#x6280;&#x672F;&#x7F51;&#x7AD9;&#x90FD;&#x5E26;&#x6709;&#x7ED9;&#x60F3;&#x8981;&#x5C55;&#x793A;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x4E9B;&#x6280;&#x672F;&#x5165;&#x95E8;&#x4EE5;&#x53CA;&#x6280;&#x672F;&#x7814;&#x7A76;&#x7684;&#x5E73;&#x53F0;,&#x4E5F;&#x5C31;&#x5E38;&#x89C1;&#x7684;&#x6280;&#x672F;&#x535A;&#x5BA2;.<br>  &#x4F46;&#x662F;&#x5927;&#x591A;&#x90FD;&#x4E0D;&#x6EE1;&#x8DB3;&#x4E8E;&#x4E2A;&#x6027;&#x5316;&#x5B9A;&#x5236;,&#x5076;&#x7136;&#x95F4;&#x63A5;&#x89E6;&#x5230;markdown,&#x5F53;&#x7136;&#x7B80;&#x4E66;&#x7B49;&#x8FD9;&#x6837;&#x7684;&#x5E73;&#x53F0;&#x4E5F;&#x652F;&#x6301;markdown,&#x4F46;&#x662F;&#x51FA;&#x4E8E;&#x4E2A;&#x4EBA;&#x7684;&#x72EC;&#x5360;&#x60C5;&#x8282;,&#x8FD8;&#x662F;&#x66F4;&#x503E;&#x5411;&#x4E8E;&#x642D;&#x5EFA;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x81EA;&#x5DF1;&#x53EF;&#x63A7;&#x7684;blog.<br><a id="more"></a></p><h2 id="&#x6280;&#x672F;&#x5B9E;&#x73B0;-&#x5FEB;&#x901F;&#x642D;&#x5EFA;"><a href="#&#x6280;&#x672F;&#x5B9E;&#x73B0;-&#x5FEB;&#x901F;&#x642D;&#x5EFA;" class="headerlink" title="&#x6280;&#x672F;&#x5B9E;&#x73B0;(&#x5FEB;&#x901F;&#x642D;&#x5EFA;)"></a>&#x6280;&#x672F;&#x5B9E;&#x73B0;(&#x5FEB;&#x901F;&#x642D;&#x5EFA;)</h2><p>&#x8003;&#x8651;&#x5230;&#x5982;&#x679C;&#x4ECE;&#x96F6;&#x5F00;&#x59CB;,&#x4E70;&#x7A7A;&#x95F4;,&#x9009;&#x57DF;&#x540D;,&#x6784;&#x5EFA;&#x4E3B;&#x4F53;&#x6846;&#x67B6;,&#x6E32;&#x67D3;&#x9759;&#x6001;&#x9875;&#x9762;,&#x4E00;&#x5957;&#x8D70;&#x4E0B;&#x6765;,&#x672A;&#x514D;&#x672C;&#x672B;&#x5012;&#x7F6E;,&#x535A;&#x5BA2;&#x6CE8;&#x91CD;&#x7684;&#x5E94;&#x8BE5;&#x662F;&#x6587;&#x7AE0;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#x4EE5;&#x53CA;&#x8D28;&#x91CF;,&#x5F53;&#x7136;ui&#x9700;&#x8981;&#x4E00;&#x5B9A;&#x7684;&#x53EF;&#x89C2;&#x77BB;&#x6027;.&#x5E78;&#x8FD0;&#x7684;&#x662F;&#x9047;&#x5230;&#x4E86;hexo,&#x7ED9;&#x4EBA;&#x4E00;&#x79CD;&#x8F6C;&#x89D2;&#x9047;&#x5230;&#x7231;&#x7684;&#x5C0F;&#x786E;&#x5E78;.<br>      ps:Hexo is a fast, simple &amp; powerful blog framework powered by Node.js.<br>      &#x4ECE;&#x5B98;&#x7F51;&#x7684;&#x89E3;&#x91CA;&#x53EF;&#x4EE5;&#x770B;&#x51FA;,&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B89;&#x88C5;Node.js,&#x5F53;&#x7136;&#x8981;&#x548C;gitbub&#x7ED3;&#x5408;,&#x4F60;&#x9700;&#x8981;&#x7533;&#x8BF7;&#x4E00;&#x4E2A;github&#x8D26;&#x53F7;,&#x7533;&#x8BF7;&#x8D26;&#x53F7;&#x7684;&#x6B65;&#x9AA4;,&#x6B64;&#x5904;&#x5C31;&#x4E0D;&#x518D;&#x7D2F;&#x8FF0;.<br>      &#x7B14;&#x8005;&#x4F7F;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x662F;ubantu 16.04</p><p>&#x4F20;&#x9001;&#x95E8;:<a href="https://github.com/join" target="_blank" rel="external">github&#x8D26;&#x53F7;&#x7533;&#x8BF7;</a></p></blockquote><h3 id="&#x73B0;&#x5728;&#x6F14;&#x793A;&#x5B89;&#x88C5;Node-js"><a href="#&#x73B0;&#x5728;&#x6F14;&#x793A;&#x5B89;&#x88C5;Node-js" class="headerlink" title="&#x73B0;&#x5728;&#x6F14;&#x793A;&#x5B89;&#x88C5;Node.js."></a>&#x73B0;&#x5728;&#x6F14;&#x793A;&#x5B89;&#x88C5;Node.js.</h3><blockquote><p>&#x5728; Github &#x4E0A;&#x83B7;&#x53D6; Node.js &#x6E90;&#x7801;&#xFF1A;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo git <span class="built_in">clone</span> https://github.com/nodejs/node.git</div></pre></td></tr></tbody></table></figure><p> 1.&#x4FEE;&#x6539;&#x76EE;&#x5F55;&#x6743;&#x9650;&#xFF1A;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo chmod -R 755 node</div><div class="line">$ <span class="built_in">cd</span> node</div><div class="line">$ node -v</div></pre></td></tr></tbody></table></figure><p></p><p> 2.&#x4F7F;&#x7528; ./configure &#x521B;&#x5EFA;&#x7F16;&#x8BD1;&#x6587;&#x4EF6;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo ./configure</div></pre></td></tr></tbody></table></figure><p></p><p> 3.&#x8FD9;&#x4E00;&#x6B65;&#xFF0C;&#x53EF;&#x80FD;&#x65F6;&#x95F4;&#x6709;&#x70B9;&#x957F;&#xFF0C;&#x8010;&#x5FC3;&#x7B49;&#x5F85;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo make</div></pre></td></tr></tbody></table></figure><p></p><p> 4.&#x6700;&#x540E;<br></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo make</div></pre></td></tr></tbody></table></figure><p></p><blockquote><p>install &#x67E5;&#x770B;&#x7248;&#x672C;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ node -v</div></pre></td></tr></tbody></table></figure><blockquote><p>v0.10.25 &#x5982;&#x679C;node&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;&#xFF0C;node&#x6709;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x53EB;n&#xFF0C;&#x662F;&#x4E13;&#x95E8;&#x7528;&#x6765;&#x7BA1;&#x7406;node.js&#x7684;&#x7248;&#x672C;&#x7684;&#x3002;&#x4F7F;&#x7528;npm&#xFF08;NPM&#x662F;&#x968F;&#x540C;nodejs&#x4E00;&#x8D77;&#x5B89;&#x88C5;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#xFF09;&#x5B89;&#x88C5;n&#x6A21;&#x5757;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo npm install -g n</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x7136;&#x540E;&#xFF0C;&#x5347;&#x7EA7;node.js&#x5230;&#x6700;&#x65B0;&#x7A33;&#x5B9A;&#x7248;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo n stable</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x65E7;&#x7248;&#x672C;&#x7684; npm&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x901A;&#x8FC7; npm &#x547D;&#x4EE4;&#x6765;&#x5347;&#x7EA7;&#xFF0C;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo npm install npm -g</div></pre></td></tr></tbody></table></figure><h3 id="&#x5B89;&#x88C5;hexo"><a href="#&#x5B89;&#x88C5;hexo" class="headerlink" title="&#x5B89;&#x88C5;hexo"></a>&#x5B89;&#x88C5;hexo</h3><blockquote><p>&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x7684;&#x547D;&#x4EE4;:</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-cli -g</div><div class="line">$ hexo init blog &#x6B64;&#x5904;&#x4F1A;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x76EE;&#x5F55;&#x5B58;&#x50A8;hexo&#x7684;&#x4E00;&#x4E9B;&#x521D;&#x59CB;&#x5316;&#x7684;&#x6587;&#x4EF6;.</div><div class="line">$ <span class="built_in">cd</span> blog</div><div class="line">$ npm install</div><div class="line">$ hexo server &#x6B64;&#x5904;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x672C;&#x5730;&#x9884;&#x89C8; &#x8BBF;&#x95EE;http://localhost:4000 &#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x672C;&#x5730;&#x7684;&#x9ED8;&#x8BA4;&#x4E3B;&#x9898;.</div></pre></td></tr></tbody></table></figure><h3 id="&#x65B0;&#x5EFA;github&#x4ED3;&#x5E93;"><a href="#&#x65B0;&#x5EFA;github&#x4ED3;&#x5E93;" class="headerlink" title="&#x65B0;&#x5EFA;github&#x4ED3;&#x5E93;"></a>&#x65B0;&#x5EFA;github&#x4ED3;&#x5E93;</h3><blockquote><p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x4ED3;&#x5E93;,&#x7136;&#x540E;&#x9009;&#x62E9;public&#x6743;&#x9650;(&#x5199;&#x535A;&#x5BA2;&#x4E0D;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x522B;&#x4EBA;&#x770B;,&#x8FDB;&#x800C;&#x76D1;&#x7763;&#x81EA;&#x5DF1;&#x8FDB;&#x6B65;&#x4E48;,&#x6240;&#x4EE5;public),&#x6307;&#x5B9A;git&#x5206;&#x652F;,&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;master&#x5206;&#x652F;&#x5373;&#x53EF;,&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x4ED3;&#x5E93;&#x5C31;&#x4F60;&#x4E00;&#x4E2A;&#x770B;&#x95E8;&#x7684;,&#x8FD9;&#x91CC;&#x9762;&#x4E5F;&#x662F;&#x4F60;&#x7684;.&#x7136;&#x540E;&#x8BB0;&#x4F4F;&#x81EA;&#x5DF1;&#x7684;clone&#x5730;&#x5740;.<br>ps:&#x8BB0;&#x5F97;&#x4FDD;&#x5B58;.</p></blockquote><h3 id="&#x5C06;gitbub&#x4ED3;&#x5E93;&#x548C;hexo&#x4E3B;&#x9898;&#x7ED1;&#x5B9A;"><a href="#&#x5C06;gitbub&#x4ED3;&#x5E93;&#x548C;hexo&#x4E3B;&#x9898;&#x7ED1;&#x5B9A;" class="headerlink" title="&#x5C06;gitbub&#x4ED3;&#x5E93;&#x548C;hexo&#x4E3B;&#x9898;&#x7ED1;&#x5B9A;"></a>&#x5C06;gitbub&#x4ED3;&#x5E93;&#x548C;hexo&#x4E3B;&#x9898;&#x7ED1;&#x5B9A;</h3><blockquote><p>&#x7F16;&#x8F91;_config.yml:</p></blockquote><figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">type</span>: git</div><div class="line"><span class="attribute">repo</span>: <span class="attribute">https</span>:<span class="comment">//github.com/tangyuxiaoyao/ITWO.git</span></div><div class="line"><span class="attribute">branch</span>: master</div></pre></td></tr></tbody></table></figure><blockquote><p>repo&#x914D;&#x7F6E;&#x7684;&#x5730;&#x5740;&#x4E3A;&#x4E0A;&#x6587;&#x5DF2;&#x7ECF;&#x63D0;&#x53CA;&#x8FC7;&#x7684;&#x9879;&#x76EE;&#x4ED3;&#x5E93;clone&#x5730;&#x5740;.<br>&#x800C;&#x4E14;&#x8FD9;&#x91CC;&#x6709;&#x770B;&#x5230;&#x4ED3;&#x5E93;&#x540E;&#x9762;&#x5E26;&#x6709;&#x5B50;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;&#x6240;&#x4EE5;&#x53C2;&#x8003;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6CE8;&#x91CA;,&#x9700;&#x8981;&#x5C06;root&#x5BF9;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6539;&#x4E3A;&#x4ED3;&#x5E93;&#x7684;&#x540D;&#x79F0;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;.</p></blockquote><figure class="highlight vim"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># URL</div><div class="line">## If your site <span class="keyword">is</span> <span class="keyword">put</span> in <span class="keyword">a</span> subdirectory, <span class="keyword">set</span> url <span class="keyword">as</span> <span class="string">&apos;http://yoursite.com/child&apos;</span> <span class="built_in">and</span> root <span class="keyword">as</span> <span class="string">&apos;/child/&apos;</span></div><div class="line">roo<span class="variable">t:</span> /ITWO/</div></pre></td></tr></tbody></table></figure><h3 id="&#x53D1;&#x5E03;&#x4E3B;&#x9898;&#x5230;github&#x4ED3;&#x5E93;"><a href="#&#x53D1;&#x5E03;&#x4E3B;&#x9898;&#x5230;github&#x4ED3;&#x5E93;" class="headerlink" title="&#x53D1;&#x5E03;&#x4E3B;&#x9898;&#x5230;github&#x4ED3;&#x5E93;"></a>&#x53D1;&#x5E03;&#x4E3B;&#x9898;&#x5230;github&#x4ED3;&#x5E93;</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div><div class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</div></pre></td></tr></tbody></table></figure><ol><li>&#x5B89;&#x88C5;hexo&#x53D1;&#x5E03;&#x6A21;&#x5757;deploy</li><li>&#x6E05;&#x9664;&#x7F13;&#x5B58;</li><li>&#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x9762;</li><li>&#x53D1;&#x5E03;&#x5230;github(&#x6BCF;&#x6B21;&#x6539;&#x5B8C;&#x4EE5;&#x540E;&#x4E5F;&#x662F;&#x8FD9;&#x4E48;&#x7A33;&#x59A5;&#x53D1;&#x5E03;)<h3 id="&#x751F;&#x6210;&#x65B0;&#x7684;&#x6587;&#x7AE0;"><a href="#&#x751F;&#x6210;&#x65B0;&#x7684;&#x6587;&#x7AE0;" class="headerlink" title="&#x751F;&#x6210;&#x65B0;&#x7684;&#x6587;&#x7AE0;"></a>&#x751F;&#x6210;&#x65B0;&#x7684;&#x6587;&#x7AE0;</h3></li></ol><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">cd</span> <span class="built_in">source</span>/_posts/</div><div class="line">$ hexo new <span class="string">&quot;shell&#x5728;&#x6307;&#x5B9A;&#x884C;&#x63D2;&#x5165;&#x6587;&#x672C;&quot;</span></div></pre></td></tr></tbody></table></figure><blockquote><p>&#x7136;&#x540E;&#x5C31;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E3A;&#x8BE5;&#x540D;&#x79F0;&#x7684;md&#x6587;&#x4EF6;,&#x6839;&#x636E;md&#x8BED;&#x6CD5;&#x7F16;&#x8F91;&#x5185;&#x5BB9;,&#x5B8C;&#x6210;&#x4EE5;&#x540E;&#x53D1;&#x5E03;&#x5373;&#x53EF;.<br>ps:&#x53EF;&#x4EE5;&#x7528;hexo clean &amp;&amp; hexo g &amp;&amp; hexo s&#x5728;&#x672C;&#x5730;&#x751F;&#x6210;&#x9884;&#x89C8;&#x6548;&#x679C;,&#x907F;&#x514D;&#x53D1;&#x5E03;&#x5230;github&#x4E0A;&#x7684;&#x6548;&#x679C;&#x4E0D;&#x5C3D;&#x4EBA;&#x610F;.</p></blockquote><p><img src="/ITWO/assets/jscy.jpg" alt="&#x53E4;&#x4EBA;&#x7B11;&#x6BD4;&#x5EAD;&#x4E2D;&#x6811;,&#x4E00;&#x65E5;&#x79CB;&#x98CE;&#x4E00;&#x65E5;&#x758F;"></p><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1 id=&quot;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8003;&amp;#x8651;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x642D;&amp;#x914D;&amp;#x65B9;&amp;#x5F0F;&quot;&gt;&lt;a href=&quot;#&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8003;&amp;#x8651;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x642D;&amp;#x914D;&amp;#x65B9;&amp;#x5F0F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8003;&amp;#x8651;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x642D;&amp;#x914D;&amp;#x65B9;&amp;#x5F0F;?&quot;&gt;&lt;/a&gt;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8003;&amp;#x8651;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x642D;&amp;#x914D;&amp;#x65B9;&amp;#x5F0F;?&lt;/h1&gt;&lt;h2 id=&quot;&amp;#x6784;&amp;#x5EFA;&amp;#x9700;&amp;#x6C42;&quot;&gt;&lt;a href=&quot;#&amp;#x6784;&amp;#x5EFA;&amp;#x9700;&amp;#x6C42;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6784;&amp;#x5EFA;&amp;#x9700;&amp;#x6C42;&quot;&gt;&lt;/a&gt;&amp;#x6784;&amp;#x5EFA;&amp;#x9700;&amp;#x6C42;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x9636;&amp;#x6BB5;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#x7684;&amp;#x6280;&amp;#x672F;&amp;#x7F51;&amp;#x7AD9;&amp;#x90FD;&amp;#x5E26;&amp;#x6709;&amp;#x7ED9;&amp;#x60F3;&amp;#x8981;&amp;#x5C55;&amp;#x793A;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x6280;&amp;#x672F;&amp;#x5165;&amp;#x95E8;&amp;#x4EE5;&amp;#x53CA;&amp;#x6280;&amp;#x672F;&amp;#x7814;&amp;#x7A76;&amp;#x7684;&amp;#x5E73;&amp;#x53F0;,&amp;#x4E5F;&amp;#x5C31;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#x6280;&amp;#x672F;&amp;#x535A;&amp;#x5BA2;.&lt;br&gt;  &amp;#x4F46;&amp;#x662F;&amp;#x5927;&amp;#x591A;&amp;#x90FD;&amp;#x4E0D;&amp;#x6EE1;&amp;#x8DB3;&amp;#x4E8E;&amp;#x4E2A;&amp;#x6027;&amp;#x5316;&amp;#x5B9A;&amp;#x5236;,&amp;#x5076;&amp;#x7136;&amp;#x95F4;&amp;#x63A5;&amp;#x89E6;&amp;#x5230;markdown,&amp;#x5F53;&amp;#x7136;&amp;#x7B80;&amp;#x4E66;&amp;#x7B49;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x5E73;&amp;#x53F0;&amp;#x4E5F;&amp;#x652F;&amp;#x6301;markdown,&amp;#x4F46;&amp;#x662F;&amp;#x51FA;&amp;#x4E8E;&amp;#x4E2A;&amp;#x4EBA;&amp;#x7684;&amp;#x72EC;&amp;#x5360;&amp;#x60C5;&amp;#x8282;,&amp;#x8FD8;&amp;#x662F;&amp;#x66F4;&amp;#x503E;&amp;#x5411;&amp;#x4E8E;&amp;#x642D;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x72EC;&amp;#x7ACB;&amp;#x7684;&amp;#x81EA;&amp;#x5DF1;&amp;#x53EF;&amp;#x63A7;&amp;#x7684;blog.&lt;br&gt;
    
    </summary>
    
    
      <category term="hexo yilla github" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hexo-yilla-github/"/>
    
  </entry>
  
  <entry>
    <title>mapreduce 温故</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/23/mapredcue%20%E6%B8%A9%E4%B9%A0/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/23/mapredcue 温习/</id>
    <published>2018-03-23T03:09:47.374Z</published>
    <updated>2018-03-23T03:09:47.374Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;&#xFF1A;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;&#xFF1A;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;&#xFF1A;"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;&#xFF1A;</h2><blockquote><p>&#x505A;&#x5927;&#x6570;&#x636E;&#x6709;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x68B3;&#x7406;&#x4E0B;&#x7528;&#x5230;mapreduce&#x7684;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x548C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;<a id="more"></a></p></blockquote><h2 id="mapreduce"><a href="#mapreduce" class="headerlink" title="mapreduce"></a>mapreduce</h2><blockquote><p>mapreduce:&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;map&#x505A;&#x6620;&#x5C04;&#xFF0C;reduce&#x505A;&#x89C4;&#x7EA6;&#x3002;<br>&#x4E3B;&#x8981;&#x5206;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#xFF1A;<br>1.&#x8F93;&#x5165;&#x5206;&#x5757;<br>2.map<br>3.shuffer<br>4.reduce</p></blockquote><p><img src="/ITWO/assets/mapreduce01.jpg" alt="mapredcue&#x6D41;&#x7A0B;&#x56FE;"><br>&#x91CD;&#x70B9;&#x662F;shuffer&#x9636;&#x6BB5;</p><h2 id="reduce&#x4E2A;&#x6570;&#x7684;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;"><a href="#reduce&#x4E2A;&#x6570;&#x7684;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;" class="headerlink" title="reduce&#x4E2A;&#x6570;&#x7684;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;:"></a>reduce&#x4E2A;&#x6570;&#x7684;&#x8BA1;&#x7B97;&#x65B9;&#x6CD5;:</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">double</span> bytes = Math.max(totalInputFileSize, bytesPerReducer);</div><div class="line"><span class="keyword">int</span> reducers = (<span class="keyword">int</span>) Math.ceil(bytes / bytesPerReducer);</div><div class="line">reducers = Math.max(<span class="number">1</span>, reducers);</div><div class="line">reducers = Math.min(maxReducers, reducers);</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x3000;&#x4ECE;&#x8BA1;&#x7B97;&#x903B;&#x8F91;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8BE5;&#x91CF;&#x7531;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x4EE5;&#x53CA;&#x8BBE;&#x7F6E;&#x7684;&#x6BCF;&#x4E2A;reduce&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x7684;&#x5B57;&#x8282;&#x6570;&#x5927;&#x5C0F;&#x51B3;&#x5B9A;&#xFF0E;</p></blockquote><p><img src="/ITWO/assets/mapreduce02.png" alt="shuffer&#x6D41;&#x7A0B;&#x56FE;"></p><h2 id="&#x6D41;&#x7A0B;&#x7EC6;&#x8282;&#xFF1A;"><a href="#&#x6D41;&#x7A0B;&#x7EC6;&#x8282;&#xFF1A;" class="headerlink" title="&#x6D41;&#x7A0B;&#x7EC6;&#x8282;&#xFF1A;"></a>&#x6D41;&#x7A0B;&#x7EC6;&#x8282;&#xFF1A;</h2><h3 id="map&#x8F93;&#x51FA;&#x8FC7;&#x7A0B;&#xFF1A;"><a href="#map&#x8F93;&#x51FA;&#x8FC7;&#x7A0B;&#xFF1A;" class="headerlink" title="map&#x8F93;&#x51FA;&#x8FC7;&#x7A0B;&#xFF1A;"></a>map&#x8F93;&#x51FA;&#x8FC7;&#x7A0B;&#xFF1A;</h3><blockquote><p>&#x2002;&#x2002;&#x2002;&#x2002;&#x5982;&#x679C;&#x6CA1;&#x6709;reduce&#x9636;&#x6BB5;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5230;hdfs&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x6709;reduce&#x4F5C;&#x4E1A;&#xFF0C;&#x5219;&#x6BCF;&#x4E2A;map&#x65B9;&#x6CD5;&#x7684;&#x8F93;&#x51FA;&#x5728;&#x5199;&#x78C1;&#x76D8;&#x524D;&#x5148;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7F13;&#x5B58;&#x3002;&#x6BCF;&#x4E2A;map task&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x73AF;&#x72B6;&#x7684;&#x5185;&#x5B58;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x5B58;&#x50A8;&#x7740;map&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF0C;&#x9ED8;&#x8BA4;100m&#xFF0C;&#x5728;&#x5199;&#x78C1;&#x76D8;&#x65F6;&#xFF0C;&#x6839;&#x636E;reduce&#x7684;&#x6570;&#x91CF;&#x628A;&#x6570;&#x636E;&#x5212;&#x5206;&#x4E3A;&#x76F8;&#x5E94;&#x7684;&#x5206;&#x533A;(&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x5206;&#x533A;&#x7B97;&#x6CD5;&#xFF08;&#x5BF9;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x7684;kv&#x4E2D;&#x5BF9;key hash&#x540E;&#x518D;&#x5BF9;reduce task&#x6570;&#x91CF;&#x53D6;&#x6A21;(reduce&#x4E2A;&#x6570;&#x7684;&#x7B97;&#x6CD5;&#x89C1;&#x524D;&#x6587;)),&#x9ED8;&#x8BA4;&#x7684;hashPartioner&#x53EA;&#x4F1A;&#x4F5C;&#x7528;&#x9ED8;&#x8BA4;&#x5206;&#x9694;&#x7B26;&#x5206;&#x5272;&#x4EE5;&#x540E;&#x7684;key&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#x5206;&#x533A;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x4F60;&#x81EA;&#x5B9A;&#x4E49;&#x4E8C;&#x6B21;&#x5206;&#x533A;&#x6BD4;&#x5982;keyfieldParttioner&#x6765;&#x5B9E;&#x73B0;,&#x5728;&#x6BCF;&#x4E2A;&#x5206;&#x533A;&#x4E2D;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5185;&#x6392;&#x5E8F;&#xFF0C;&#x5206;&#x533A;&#x7684;&#x4E2A;&#x6570;&#x548C;reduce&#x7684;&#x4E2A;&#x6570;&#x662F;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x5728;&#x6BCF;&#x6B21;&#x5F53;&#x7F13;&#x51B2;&#x533A;&#x5FEB;&#x6EE1;&#x7684;&#x65F6;&#x5019;&#x7531;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x7EBF;&#x7A0B;&#x5C06;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x6570;&#x636E;&#x4EE5;&#x4E00;&#x4E2A;&#x6EA2;&#x51FA;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x5B58;&#x653E;&#x5230;&#x78C1;&#x76D8;(&#x8FD9;&#x4E2A;&#x6EA2;&#x5199;&#x662F;&#x7531;&#x5355;&#x72EC;&#x7EBF;&#x7A0B;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;&#x5F80;&#x7F13;&#x51B2;&#x533A;&#x5199;map&#x7ED3;&#x679C;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x6EA2;&#x5199;&#x7EBF;&#x7A0B;&#x542F;&#x52A8;&#x65F6;&#x4E0D;&#x5E94;&#x8BE5;&#x963B;&#x6B62;map&#x7684;&#x7ED3;&#x679C;&#x8F93;&#x51FA;&#xFF0C;&#x6240;&#x4EE5;&#x6574;&#x4E2A;&#x7F13;&#x51B2;&#x533A;&#x6709;&#x4E2A;&#x6EA2;&#x5199;&#x7684;&#x6BD4;&#x4F8B;spill.percent&#x3002;&#x8FD9;&#x4E2A;&#x6BD4;&#x4F8B;&#x9ED8;&#x8BA4;&#x662F;0.8&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5F53;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x8FBE;&#x5230;&#x9608;&#x503C;&#xFF08;buffer size <em> spill percent = 100MB </em> 0.8 = 80MB&#xFF09;&#xFF0C;&#x6EA2;&#x5199;&#x7EBF;&#x7A0B;&#x542F;&#x52A8;&#xFF0C;&#x9501;&#x5B9A;&#x8FD9;80MB&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x6267;&#x884C;&#x6EA2;&#x5199;&#x8FC7;&#x7A0B;&#x3002;Map task&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x8FD8;&#x53EF;&#x4EE5;&#x5F80;&#x5269;&#x4E0B;&#x7684;20MB&#x5185;&#x5B58;&#x4E2D;&#x5199;&#xFF0C;&#x4E92;&#x4E0D;&#x5F71;&#x54CD;&#x3002;)&#xFF0C;&#x5F53;&#x6574;&#x4E2A;map task&#x7ED3;&#x675F;&#x540E;&#x518D;&#x5BF9;&#x78C1;&#x76D8;&#x4E2D;&#x8FD9;&#x4E2A;map task&#x4EA7;&#x751F;&#x7684;&#x6240;&#x6709;&#x6EA2;&#x51FA;&#x6587;&#x4EF6;&#x505A;&#x5408;&#x5E76;&#xFF0C;&#x88AB;&#x5408;&#x5E76;&#x6210;&#x5DF2;&#x5206;&#x533A;&#x4E14;&#x5DF2;&#x6392;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x3002;&#x7136;&#x540E;reduce&#x5F00;&#x59CB;fetch&#xFF08;&#x62C9;&#x53D6;&#xFF09;map&#x7AEF;&#x5408;&#x5E76;&#x597D;&#x5BF9;&#x5E94;&#x5206;&#x533A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5728;reduce&#x7AEF;&#x5408;&#x5E76;&#xFF08;&#x56E0;&#x4E3A;&#x4F1A;&#x6709;&#x5F88;&#x591A;map&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x9700;&#x8981;&#x5408;&#x5E76;&#xFF09;&#xFF0C;&#x6B64;&#x65F6;&#x5728;reduce&#x7AEF;&#x4E5F;&#x4F1A;&#x8FDB;&#x884C;&#x4E00;&#x6B21;sort,&#x786E;&#x4FDD;&#x6240;&#x6709;map&#x7684;&#x8F93;&#x51FA;&#x90FD;&#x6392;&#x5E8F;&#x5E76;&#x5408;&#x5E76;&#x6210;&#x5B8C;&#x6210;&#x4EE5;&#x540E;&#xFF0C;&#x624D;&#x4F1A;&#x542F;&#x52A8;reduce task,&#x6240;&#x4EE5;&#x600E;&#x4E48;&#x624D;&#x80FD;&#x786E;&#x4FDD;&#x4F60;&#x5728;reduce&#x903B;&#x8F91;&#x5904;&#x7406;&#x65F6;&#x62FF;&#x5230;&#x7684;&#x662F;&#x4F60;&#x8981;&#x7684;&#x6392;&#x5E8F;&#x540E;&#x7684;&#x6570;&#x636E;&#x914D;&#x5408;&#x4F60;&#x7684;&#x5904;&#x7406;&#x5C31;&#x81F3;&#x5173;&#x91CD;&#x8981;&#x4E86;&#x3002;</p></blockquote><h3 id="reducer&#x5982;&#x4F55;&#x77E5;&#x9053;&#x8981;&#x4ECE;&#x54EA;&#x4E2A;tasktracker&#x53D6;&#x5F97;map&#x8F93;&#x51FA;&#x5462;&#xFF1F;"><a href="#reducer&#x5982;&#x4F55;&#x77E5;&#x9053;&#x8981;&#x4ECE;&#x54EA;&#x4E2A;tasktracker&#x53D6;&#x5F97;map&#x8F93;&#x51FA;&#x5462;&#xFF1F;" class="headerlink" title="reducer&#x5982;&#x4F55;&#x77E5;&#x9053;&#x8981;&#x4ECE;&#x54EA;&#x4E2A;tasktracker&#x53D6;&#x5F97;map&#x8F93;&#x51FA;&#x5462;&#xFF1F;"></a>reducer&#x5982;&#x4F55;&#x77E5;&#x9053;&#x8981;&#x4ECE;&#x54EA;&#x4E2A;tasktracker&#x53D6;&#x5F97;map&#x8F93;&#x51FA;&#x5462;&#xFF1F;</h3><blockquote><p>&#x2002;&#x2002;&#x2002;&#x2002;map&#x4EFB;&#x52A1;&#x6210;&#x529F;&#x5B8C;&#x6210;&#x4EE5;&#x540E;&#xFF0C;&#x4ED6;&#x4EEC;&#x4F1A;&#x901A;&#x77E5;&#x5176;&#x7236;tasktracker&#x72B6;&#x6001;&#x5DF2;&#x66F4;&#x65B0;&#xFF0C;&#x7136;&#x540E;taskTracker&#x8FDB;&#x800C;&#x901A;&#x77E5;jobTracker&#x3002;&#x8FD9;&#x4E9B;&#x901A;&#x77E5;&#x5728;&#x524D;&#x9762;&#x7684;&#x5FC3;&#x8DF3;&#x673A;&#x5236;&#x4E2D;&#x4F20;&#x8F93;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5BF9;&#x4E8E;&#x6307;&#x5B9A;&#x4F5C;&#x4E1A;&#xFF0C;jobTracker&#x77E5;&#x9053;map&#x8F93;&#x51FA;&#x548C;taskTracker&#x4E4B;&#x95F4;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#x3002;reducer&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5B9A;&#x671F;&#x8BE2;&#x95EE;jobTracher&#x4EE5;&#x4FBF;&#x83B7;&#x53D6;map&#x8F93;&#x51FA;&#x7684;&#x4F4D;&#x7F6E;,&#x76F4;&#x5230;&#x5B83;&#x83B7;&#x5F97;&#x6240;&#x6709;&#x8F93;&#x51FA;&#x4F4D;&#x7F6E;&#x3002;</p></blockquote><h3 id="map&#x548C;reduce&#x5982;&#x4F55;&#x5408;&#x7406;&#x63A7;&#x5236;&#x81EA;&#x5DF1;&#x7684;&#x4E2A;&#x6570;&#xFF1F;"><a href="#map&#x548C;reduce&#x5982;&#x4F55;&#x5408;&#x7406;&#x63A7;&#x5236;&#x81EA;&#x5DF1;&#x7684;&#x4E2A;&#x6570;&#xFF1F;" class="headerlink" title="map&#x548C;reduce&#x5982;&#x4F55;&#x5408;&#x7406;&#x63A7;&#x5236;&#x81EA;&#x5DF1;&#x7684;&#x4E2A;&#x6570;&#xFF1F;"></a>map&#x548C;reduce&#x5982;&#x4F55;&#x5408;&#x7406;&#x63A7;&#x5236;&#x81EA;&#x5DF1;&#x7684;&#x4E2A;&#x6570;&#xFF1F;</h3><blockquote><p>&#x2002;&#x2002;&#x2002;&#x2002;map&#x7684;&#x4E2A;&#x6570;&#x662F;&#x7531;dfs.block.size&#x63A7;&#x5236;&#xFF0C;&#x8BE5;&#x914D;&#x7F6E;&#x53EF;&#x4EE5;&#x5728;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x4E4B;&#x524D;&#x7531;&#x53C2;&#x6570;&#xFF08;&#x89C1;&#x4E0B;&#x6587;&#xFF09;&#x63A7;&#x5236;&#xFF0C;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x4F4D;&#x4E8E;hdfs-site.xml&#x4E2D;dfs.block.size&#x63A7;&#x5236;&#xFF0C;1.x&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x4E3A;64m,2.x&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x4E3A;128m,</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"> <span class="keyword">long</span> goalSize = totalSize / (numSplits == <span class="number">0</span> ? <span class="number">1</span> : numSplits);</div><div class="line"> <span class="keyword">long</span> minSize = Math.max(job.getLong(org.apache.hadoop.mapreduce.lib.input.</div><div class="line">    FileInputFormat.SPLIT_MINSIZE, <span class="number">1</span>), minSplitSize);</div><div class="line"><span class="keyword">long</span> blockSize = file.getBlockSize();</div><div class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">long</span> <span class="title">computeSplitSize</span><span class="params">(<span class="keyword">long</span> goalSize, <span class="keyword">long</span> minSize,</span></span></div><div class="line"><span class="function"><span class="params">                                     <span class="keyword">long</span> blockSize)</span> </span>{</div><div class="line">  <span class="keyword">return</span> Math.max(minSize, Math.min(goalSize, blockSize));</div><div class="line">}</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x2002;&#x2002;&#x2002;&#x2002;&#x4ECE;&#x4E0A;&#x9762;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x6700;&#x7EC8;&#x7684;split size&#x662F;&#x7531;&#x4E09;&#x4E2A;&#x56E0;&#x7D20;&#x51B3;&#x5B9A;&#xFF0C;goalsize&#x4E3A;map&#x8F93;&#x5165;&#x6570;&#x636E;&#x9664;&#x4EE5;&#x7528;&#x6237;&#x81EA;&#x5DF1;&#x8BBE;&#x7F6E;&#x7684;map&#x4E2A;&#x6570;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF09;&#x5F97;&#x5230;&#x7684;;minsize&#x4E3A;mapred-site.xml&#x914D;&#x7F6E;&#x7684;mapred.min.split.size&#x51B3;&#x5B9A;&#xFF0C;&#x56E0;&#x4E3A;minSplitSize&#x4E3A;1;&#x7B2C;&#x4E09;&#x4E2A;&#x5F71;&#x54CD;&#x56E0;&#x7D20;&#x4E3A;blocksize,&#x8FD9;&#x4E2A;&#x770B;&#x914D;&#x7F6E;&#xFF0C;&#x6700;&#x7EC8;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;,&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;min.size,&#x5219;&#x7531;blocksize&#x51B3;&#x5B9A;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;&#xFF0C;&#x5219;&#x662F;&#x7531;&#x8FD9;&#x4E24;&#x8005;&#x4E2D;&#x5927;&#x7684;&#x4E00;&#x4E2A;&#x51B3;&#x5B9A;&#x3002;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="built_in">set</span> mapred.min.split.size=256000000;        -- &#x51B3;&#x5B9A;&#x6BCF;&#x4E2A;map&#x5904;&#x7406;&#x7684;&#x6700;&#x5927;&#x7684;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;B</div><div class="line"></div><div class="line">&#x65B9;&#x6CD5;1</div><div class="line"><span class="built_in">set</span> mapred.reduce.tasks=10;  -- &#x8BBE;&#x7F6E;reduce&#x7684;&#x6570;&#x91CF;</div><div class="line">&#x65B9;&#x6CD5;2</div><div class="line"><span class="built_in">set</span> hive.exec.reducers.bytes.per.reducer=1073741824 -- &#x6BCF;&#x4E2A;reduce&#x5904;&#x7406;&#x7684;&#x6570;&#x636E;&#x91CF;,&#x9ED8;&#x8BA4;1GB</div></pre></td></tr></tbody></table></figure><p>block_size : hdfs&#x7684;&#x6587;&#x4EF6;&#x5757;&#x5927;&#x5C0F;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;64M&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53C2;&#x6570;dfs.block.size&#x8BBE;&#x7F6E;<br>total_size : &#x8F93;&#x5165;&#x6587;&#x4EF6;&#x6574;&#x4F53;&#x7684;&#x5927;&#x5C0F;<br>input_file_num : &#x8F93;&#x5165;&#x6587;&#x4EF6;&#x7684;&#x4E2A;&#x6570;</p><p>&#xFF08;1&#xFF09;&#x9ED8;&#x8BA4;map&#x4E2A;&#x6570;</p><blockquote><p>&#x5982;&#x679C;&#x4E0D;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x8BBE;&#x7F6E;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;map&#x4E2A;&#x6570;&#x662F;&#x548C;blcok_size&#x76F8;&#x5173;&#x7684;&#x3002;<br>   default_num = total_size / block_size;</p></blockquote><p>&#xFF08;2&#xFF09;&#x671F;&#x671B;&#x5927;&#x5C0F;</p><blockquote><p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53C2;&#x6570;mapred.map.tasks&#x6765;&#x8BBE;&#x7F6E;&#x7A0B;&#x5E8F;&#x5458;&#x671F;&#x671B;&#x7684;map&#x4E2A;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x4E2A;&#x6570;&#x53EA;&#x6709;&#x5728;&#x5927;&#x4E8E;default_num&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x624D;&#x4F1A;&#x751F;&#x6548;&#x3002;<br>   goal_num = mapred.map.tasks;</p></blockquote><p>&#xFF08;3&#xFF09;&#x8BBE;&#x7F6E;&#x5904;&#x7406;&#x7684;&#x6587;&#x4EF6;&#x5927;&#x5C0F;</p><blockquote><p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;mapred.min.split.size &#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;task&#x5904;&#x7406;&#x7684;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x5927;&#x5C0F;&#x53EA;&#x6709;&#x5728;&#x5927;&#x4E8E;block_size&#x7684;&#x65F6;&#x5019;&#x624D;&#x4F1A;&#x751F;&#x6548;&#x3002;<br>   split_size = max(mapred.min.split.size, block_size);<br>   split_num = total_size / split_size;</p></blockquote><p>&#xFF08;4&#xFF09;&#x8BA1;&#x7B97;&#x7684;map&#x4E2A;&#x6570;</p><blockquote><p>compute_map_num = min(split_num,  max(default_num, goal_num))</p><p>&#x2002;&#x2002;&#x2002;&#x2002;&#x9664;&#x4E86;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x4EE5;&#x5916;&#xFF0C;mapreduce&#x8FD8;&#x8981;&#x9075;&#x5FAA;&#x4E00;&#x4E9B;&#x539F;&#x5219;&#x3002; mapreduce&#x7684;&#x6BCF;&#x4E00;&#x4E2A;map&#x5904;&#x7406;&#x7684;&#x6570;&#x636E;&#x662F;&#x4E0D;&#x80FD;&#x8DE8;&#x8D8A;&#x6587;&#x4EF6;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;min_map_num &gt;= input_file_num&#x3002; &#x6240;&#x4EE5;&#xFF0C;&#x6700;&#x7EC8;&#x7684;map&#x4E2A;&#x6570;&#x5E94;&#x8BE5;&#x4E3A;&#xFF1A;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">final_map_num = max(compute_map_num, input_file_num)</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x7ECF;&#x8FC7;&#x4EE5;&#x4E0A;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x5728;&#x8BBE;&#x7F6E;map&#x4E2A;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x603B;&#x7ED3;&#x4E3A;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;&#xFF1A;<br>&#xFF08;1&#xFF09;&#x5982;&#x679C;&#x60F3;&#x589E;&#x52A0;map&#x4E2A;&#x6570;&#xFF0C;&#x5219;&#x8BBE;&#x7F6E;mapred.map.tasks &#x4E3A;&#x4E00;&#x4E2A;&#x8F83;&#x5927;&#x7684;&#x503C;&#x3002;<br>&#xFF08;2&#xFF09;&#x5982;&#x679C;&#x60F3;&#x51CF;&#x5C0F;map&#x4E2A;&#x6570;&#xFF0C;&#x5219;&#x8BBE;&#x7F6E;mapred.min.split.size &#x4E3A;&#x4E00;&#x4E2A;&#x8F83;&#x5927;&#x7684;&#x503C;&#x3002;</p></blockquote><p>reduce&#x4E2A;&#x6570;&#x7684;&#x8BBE;&#x7F6E;&#x5219;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#xFF0C;&#x8981;&#x4E48;&#x4F60;&#x8BBE;&#x7F6E;mapred.reduce.tasks&#x7684;&#x6570;&#x503C;&#xFF0C;&#x8981;&#x4E48;&#x4F60;&#x5728;hive&#x4E2D;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;reduce&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x7EA6;&#x675F;reduce&#x7684;&#x4E2A;&#x6570;&#x3002;</p><blockquote><p>&#x5C0F;&#x6280;&#x5DE7;</p></blockquote><p>&#x2002;&#x2002;&#x2002;&#x2002;&#x5728;hive&#x4E2D;&#x5E26;&#x7A7A;&#x7684;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6253;&#x5370;&#x51FA;&#x5F53;&#x524D;&#x8BE5;&#x53C2;&#x6570;&#x7684;&#x8BBE;&#x7F6E;&#x503C;&#x3002;</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">hive&gt; set dfs.block.size;</div><div class="line">dfs.block.size=268435456</div><div class="line">hive&gt; set mapred.map.tasks;</div><div class="line">mapred.map.tasks=2</div></pre></td></tr></tbody></table></figure><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&amp;#xFF1A;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&amp;#xFF1A;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&amp;#xFF1A;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&amp;#xFF1A;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x505A;&amp;#x5927;&amp;#x6570;&amp;#x636E;&amp;#x6709;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x4E86;&amp;#xFF0C;&amp;#x68B3;&amp;#x7406;&amp;#x4E0B;&amp;#x7528;&amp;#x5230;mapreduce&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x95EE;&amp;#x9898;&amp;#x548C;&amp;#x89E3;&amp;#x51B3;&amp;#x65B9;&amp;#x6848;&amp;#x3002;
    
    </summary>
    
    
      <category term="mapreduce" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/mapreduce/"/>
    
      <category term="shuffer" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/shuffer/"/>
    
  </entry>
  
  <entry>
    <title>nohup &amp; &gt; 使用解释</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/14/nohup-%E4%BD%BF%E7%94%A8%E8%A7%A3%E9%87%8A/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/14/nohup-使用解释/</id>
    <published>2018-03-14T01:54:12.000Z</published>
    <updated>2018-03-23T03:13:55.437Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"><a href="#&#x80CC;&#x666F;&#x63CF;&#x8FF0;" class="headerlink" title="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"></a>&#x80CC;&#x666F;&#x63CF;&#x8FF0;</h2><blockquote><p>&#x6211;&#x4EEC;&#x5728;&#x8FD0;&#x884C;&#x670D;&#x52A1;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x7A0B;&#x5E8F;&#x7684;&#x65F6;&#x5019;&#x7ECF;&#x5E38;&#x8FD9;&#x6837;&#x542F;&#x52A8;&#x8FDB;&#x7A0B;&#x3002;<a id="more"></a></p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nohup ls &gt;out.log 2&gt;&amp;1 &amp;</div></pre></td></tr></tbody></table></figure><h2 id="&#x7EC6;&#x8282;&#x5206;&#x6790;"><a href="#&#x7EC6;&#x8282;&#x5206;&#x6790;" class="headerlink" title="&#x7EC6;&#x8282;&#x5206;&#x6790;"></a>&#x7EC6;&#x8282;&#x5206;&#x6790;</h2><blockquote><p>&amp; &#x53EF;&#x4EE5;&#x514D;&#x75AB;SIGINT&#xFF08;sign of interuput&#xFF09;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x4ED6;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x7A0B;&#x5E8F;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x5173;&#x95ED;&#x5F53;&#x524D;shell session&#x5C31;&#x4F1A;&#x9000;&#x51FA;&#x8BE5;&#x7A0B;&#x5E8F;&#x3002;<br>nohup &#x7684;&#x8FD0;&#x7528;&#x662F;&#x4E3A;&#x4E86;&#x514D;&#x75AB;SIGHUP&#x4FE1;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x6302;&#x8D77;&#xFF0C;&#x5C06;&#x7A0B;&#x5E8F;&#x7684;&#x8F93;&#x51FA;&#x91CD;&#x5B9A;&#x5411;&#x5230;nohup.out&#x4E2D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x514D;&#x75AB;&#x56DE;&#x8BDD;&#x7EA7;&#x522B;&#x7684;&#x5173;&#x95ED;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x514D;&#x75AB;SIGINT&#x4FE1;&#x53F7;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x7528;&#x7684;Ctrl+C&#x3002;<br>&#x7EFC;&#x4E0A;&#x6240;&#x5C5E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x7ED3;&#x5408;&#x4E24;&#x8005;&#x7684;&#x4F18;&#x70B9;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x4F7F;&#x7528;&#x4ECE;&#x800C;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x5B9E;&#x73B0;&#x7A0B;&#x5E8F;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x800C;&#x4E14;&#x514D;&#x75AB;session&#x5173;&#x95ED;&#x800C;&#x5BFC;&#x81F4;&#x7A0B;&#x5E8F;&#x9000;&#x51FA;&#x3002;<br>2&gt;&amp;1 &#x7684;&#x8FD0;&#x7528;&#x662F;&#x4E3A;&#x4E86;&#x5C06;&#x6807;&#x51C6;&#x51FA;&#x9519;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x3002;<br>nohup ls &gt;out.log 2&gt;&amp;1 &amp; &#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x7684;&#x610F;&#x601D;&#x5C31;&#x662F;&#x540E;&#x53F0;&#x6302;&#x8D77;ls&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x548C;&#x6807;&#x51C6;&#x51FA;&#x9519;&#x90FD;&#x4F5C;&#x4E3A;&#x8F93;&#x51FA;&#x91CD;&#x5B9A;&#x5411;&#x5230;out.log&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;tail -f out.log&#x76D1;&#x63A7;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x3002;<br>tip:&#x5F53;&#x5F53;&#x524D;session&#x8FD8;&#x4E3A;&#x5173;&#x95ED;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Jobs&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x4F1A;&#x8BDD;&#x4E0B;&#x9762;&#x6709;&#x591A;&#x5C11;&#x6302;&#x8D77;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x505C;&#x6B62;&#x81EA;&#x5DF1;&#x542F;&#x52A8;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;fg %jobnumber&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x8BE5;&#x4EFB;&#x52A1;&#x653E;&#x5230;&#x524D;&#x53F0;&#x6267;&#x884C;&#x7136;&#x540E;&#x4F7F;&#x7528;Ctrl+C&#x547D;&#x4EE4;&#x7EC8;&#x6B62;&#x5B83;&#x7684;&#x6267;&#x884C;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x5F53;&#x524D;session&#x5DF2;&#x7ECF;&#x5931;&#x53BB;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EA;&#x80FD;&#x901A;&#x8FC7;ps -ef &#x627E;&#x5230;&#x63D0;&#x4EA4;&#x7684;&#x4EFB;&#x52A1;&#x7136;&#x540E;&#x901A;&#x8FC7;kill&#x6765;&#x7ED3;&#x675F;&#x7A0B;&#x5E8F;&#x3002;</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x670D;&amp;#x52A1;&amp;#x6216;&amp;#x8005;&amp;#x5176;&amp;#x4ED6;&amp;#x7A0B;&amp;#x5E8F;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x7ECF;&amp;#x5E38;&amp;#x8FD9;&amp;#x6837;&amp;#x542F;&amp;#x52A8;&amp;#x8FDB;&amp;#x7A0B;&amp;#x3002;
    
    </summary>
    
    
      <category term="nohup" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/nohup/"/>
    
  </entry>
  
  <entry>
    <title>maven,gradle 问题解决总结</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/13/maven,gradle-%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%80%BB%E7%BB%93/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/13/maven,gradle-问题解决总结/</id>
    <published>2018-03-13T01:47:51.000Z</published>
    <updated>2018-03-23T03:09:39.999Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="jar&#x5305;&#x627E;&#x4E0D;&#x5230;&#x95EE;&#x9898;"><a href="#jar&#x5305;&#x627E;&#x4E0D;&#x5230;&#x95EE;&#x9898;" class="headerlink" title="jar&#x5305;&#x627E;&#x4E0D;&#x5230;&#x95EE;&#x9898;"></a>jar&#x5305;&#x627E;&#x4E0D;&#x5230;&#x95EE;&#x9898;<a id="more"></a></h2><blockquote><p>&#x9047;&#x5230;&#x6B64;&#x7C7B;&#x95EE;&#x9898;&#xFF0C;&#x80AF;&#x5B9A;&#x7B2C;&#x4E00;&#x601D;&#x8DEF;&#x662F;&#x914D;&#x7F6E;&#x6B63;&#x786E;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x53BB;&#x5B98;&#x7F51;&#x79C1;&#x670D;&#x9A8C;&#x8BC1;&#x8FC7;&#x7684;&#x786E;&#x5B58;&#x5728;&#x7684;gav&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x627E;&#x4E0D;&#x5230;&#xFF0C;&#x6B64;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x505A;&#x7684;&#x662F;&#x628A;&#x539F;&#x6765;&#x7684;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x4E0B;&#x7684;&#x6E05;&#x7406;&#x5E72;&#x51C0;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x5BFC;&#x5165;&#x4E00;&#x6B21;&#x4F9D;&#x8D56;&#x4E00;&#x822C;&#x95EE;&#x9898;&#x5C31;&#x4F1A;&#x89E3;&#x51B3;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;<a href="http://mvnrepository.com/" target="_blank" rel="external">&#x5B98;&#x7F51;</a>&#x9A8C;&#x8BC1;&#x4E86;&#xFF0C;&#x7684;&#x786E;&#x6709;&#x4F46;&#x662F;&#x8FD8;&#x662F;&#x62C9;&#x4E0D;&#x4E0B;&#x6765;&#xFF0C;&#x6B64;&#x65F6;&#x5728;&#x5B98;&#x7F51;&#x4E0B;&#x65B9;&#x4F1A;&#x7ED9;&#x51FA;&#x8BE5;&#x5305;&#x7684;&#x79C1;&#x670D;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x52A0;&#x5165;&#x8BE5;&#x79C1;&#x670D;&#x5730;&#x5740;&#xFF0C;&#x7136;&#x540E;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x628A;&#x4F60;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x4E0B;&#x7684;&#x6E05;&#x7406;&#x5E72;&#x51C0;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x5BFC;&#x5165;&#x4E00;&#x8FB9;&#x4F9D;&#x8D56;&#xFF0C;&#x4F9D;&#x8D56;&#x5305;&#x5C31;&#x4F1A;&#x62C9;&#x4E0B;&#x6765;&#x3002;<br>&#x2026;.&#x672A;&#x5B8C;&#x5F85;&#x7EED;</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;jar&amp;#x5305;&amp;#x627E;&amp;#x4E0D;&amp;#x5230;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;a href=&quot;#jar&amp;#x5305;&amp;#x627E;&amp;#x4E0D;&amp;#x5230;&amp;#x95EE;&amp;#x9898;&quot; class=&quot;headerlink&quot; title=&quot;jar&amp;#x5305;&amp;#x627E;&amp;#x4E0D;&amp;#x5230;&amp;#x95EE;&amp;#x9898;&quot;&gt;&lt;/a&gt;jar&amp;#x5305;&amp;#x627E;&amp;#x4E0D;&amp;#x5230;&amp;#x95EE;&amp;#x9898;
    
    </summary>
    
    
      <category term="maven" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/maven/"/>
    
      <category term="gradle" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/gradle/"/>
    
  </entry>
  
  <entry>
    <title>idea 导入gradle项目报错</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/13/idea-%E5%AF%BC%E5%85%A5gradle%E9%A1%B9%E7%9B%AE%E6%8A%A5%E9%94%99/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/13/idea-导入gradle项目报错/</id>
    <published>2018-03-13T01:17:08.000Z</published>
    <updated>2018-03-23T03:14:09.229Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"><a href="#&#x80CC;&#x666F;&#x63CF;&#x8FF0;" class="headerlink" title="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"></a>&#x80CC;&#x666F;&#x63CF;&#x8FF0;</h2><blockquote><p>&#x5728;&#x5BFC;&#x5165;&#x4E00;&#x4E2A;&#x65B0;&#x7684;gradle&#x9879;&#x76EE;&#x8FDB;idea&#x65F6;&#xFF0C;&#x62A5;&#x9519;&#x5982;&#x4E0B;&#xFF1A;<a id="more"></a></p></blockquote><figure class="highlight"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Error:com/android/builder/model/AndroidProject : Unsupported major.minor version <span class="number">52.0</span>. Please use JDK <span class="number">8</span> or newer.</div><div class="line">&lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html&quot;&gt;Download JDK 8&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;select.jdk&quot;&gt;Select a JDK from the File System&lt;/a&gt;</div></pre></td></tr></tbody></table></figure><h2 id="&#x95EE;&#x9898;&#x5206;&#x6790;"><a href="#&#x95EE;&#x9898;&#x5206;&#x6790;" class="headerlink" title="&#x95EE;&#x9898;&#x5206;&#x6790;"></a>&#x95EE;&#x9898;&#x5206;&#x6790;</h2><blockquote><p>&#x672C;&#x6765;&#x662F;&#x51B2;&#x7740;&#x540E;&#x9762;&#x7ED9;&#x7684;&#x9519;&#x8BEF;&#x53BB;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF08;&#x4F20;&#x7EDF;&#x7ECF;&#x9A8C;&#x5BB3;&#x6B7B;&#x4EBA;&#xFF09;&#xFF0C;&#x540E;&#x6765;&#x8BE5;&#x6539;&#x7684;&#x90FD;&#x6539;&#x4E86;&#xFF0C;&#x6700;&#x7EC8;&#x8FD8;&#x662F;&#x95EE;&#x9898;&#x4F9D;&#x65E7;&#xFF0C;&#x8FD9;&#x624D;&#x60F3;&#x7740;&#x4ECE;&#x524D;&#x9762;&#x5F00;&#x59CB;&#x89E3;&#x51B3;&#xFF0C;&#x95EE;&#x4E86;&#x540C;&#x4E8B;&#xFF0C;&#x540C;&#x4E8B;&#x4E5F;&#x8BF4;&#x662F;gradle&#x7684;&#x7248;&#x672C;&#x95EE;&#x9898;&#xFF0C;&#x5176;&#x5B9E;&#x6839;&#x672C;&#x4E0D;&#x662F;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x662F;&#x5462;&#xFF0C;&#x8D34;&#x51FA;&#x5B98;&#x7F51;&#x7ED9;&#x7684;&#x7B54;&#x6848;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Gradle runs on all major operating systems and requires only a Java JDK or JRE version 7 or higher to be installed. To check, run java -version:</div><div class="line">$ java -version</div><div class="line">java version <span class="string">&quot;1.8.0_121&quot;</span></div></pre></td></tr></tbody></table></figure><blockquote><p>&#x4ECE;&#x4EE5;&#x4E0A;&#x7684;&#x6D0B;&#x6587;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x53EA;&#x8981;&#x662F;7&#x7248;&#x672C;&#x4EE5;&#x4E0A;&#x5C31;&#x53EF;&#x4EE5;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x8003;&#x8651;&#x5230;&#x662F;&#x4E0D;&#x662F;idea&#x672C;&#x8EAB;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5728;idea&#x7684;&#x8BBE;&#x7F6E;&#x91CC;&#x627E;&#x4E86;&#x4E00;&#x906D;&#xFF0C;&#x627E;&#x5230;&#x4E86;<strong>&#x5B83;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x4E86;Android Support,&#x540E;&#x6765;&#x628A;&#x8FD9;&#x9879;&#x652F;&#x6301;&#x70B9;&#x6389;</strong>&#x4EE5;&#x540E;&#xFF0C;&#x91CD;&#x542F;idea,&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x3002;</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x5BFC;&amp;#x5165;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x7684;gradle&amp;#x9879;&amp;#x76EE;&amp;#x8FDB;idea&amp;#x65F6;&amp;#xFF0C;&amp;#x62A5;&amp;#x9519;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;
    
    </summary>
    
    
      <category term="idea gradle android" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/idea-gradle-android/"/>
    
  </entry>
  
  <entry>
    <title>解决ubantu 谷歌浏览器打不开问题</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/07/%E8%A7%A3%E5%86%B3ubantu-%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E4%B8%8D%E5%BC%80%E9%97%AE%E9%A2%98/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/07/解决ubantu-谷歌浏览器打不开问题/</id>
    <published>2018-03-07T06:19:10.000Z</published>
    <updated>2018-03-23T03:11:30.423Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"><a href="#&#x80CC;&#x666F;&#x63CF;&#x8FF0;" class="headerlink" title="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"></a>&#x80CC;&#x666F;&#x63CF;&#x8FF0;</h2><blockquote><p>&#x9047;&#x5230;chrome/chromium&#x542F;&#x52A8;&#x4E0D;&#x4E86;<a id="more"></a></p></blockquote><h2 id="&#x5B9A;&#x4F4D;&#x95EE;&#x9898;"><a href="#&#x5B9A;&#x4F4D;&#x95EE;&#x9898;" class="headerlink" title="&#x5B9A;&#x4F4D;&#x95EE;&#x9898;"></a>&#x5B9A;&#x4F4D;&#x95EE;&#x9898;</h2><blockquote><p>&#x5728;/usr/bin/./chromium-browser&#x542F;&#x52A8;&#x547D;&#x4EE4;&#xFF0C;&#x3000;&#x67E5;&#x770B;log&#x8F93;&#x51FA;</p><p>log&#x8F93;&#x51FA;&#x5982;&#x4E0B;&#xFF1A;<br>[20049:20083:0302/221800.660699:FATAL:nss_util.cc(631)] NSS_VersionCheck(&#x201C;3.26&#x201D;) failed. NSS &gt;= 3.26 is required. Please upgrade to the latest NSS, and if you still get this error, contact your distribution maintainer.<br>&#x5DF2;&#x653E;&#x5F03; (&#x6838;&#x5FC3;&#x5DF2;&#x8F6C;&#x50A8;)</p></blockquote><h2 id="&#x89E3;&#x51B3;&#x529E;&#x6CD5;"><a href="#&#x89E3;&#x51B3;&#x529E;&#x6CD5;" class="headerlink" title="&#x89E3;&#x51B3;&#x529E;&#x6CD5;"></a>&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install libnss3</div></pre></td></tr></tbody></table></figure><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x9047;&amp;#x5230;chrome/chromium&amp;#x542F;&amp;#x52A8;&amp;#x4E0D;&amp;#x4E86;
    
    </summary>
    
    
      <category term="ubantu chrome chromium 打不开" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/ubantu-chrome-chromium-%E6%89%93%E4%B8%8D%E5%BC%80/"/>
    
  </entry>
  
  <entry>
    <title>shell 合并hdfs文件 分发 并加文件校验和</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/06/shell-%E5%90%88%E5%B9%B6hdfs%E6%96%87%E4%BB%B6-%E5%88%86%E5%8F%91-%E5%B9%B6%E5%8A%A0%E6%96%87%E4%BB%B6%E6%A0%A1%E9%AA%8C%E5%92%8C/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/06/shell-合并hdfs文件-分发-并加文件校验和/</id>
    <published>2018-03-06T02:40:13.000Z</published>
    <updated>2018-03-23T03:13:35.038Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"><a href="#&#x80CC;&#x666F;&#x63CF;&#x8FF0;" class="headerlink" title="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"></a>&#x80CC;&#x666F;&#x63CF;&#x8FF0;</h2><blockquote><p>&#x63D0;&#x4F9B;&#x4E00;&#x6279;&#x5E26;&#x6709;&#x57CE;&#x5E02;&#x6807;&#x8BC6;&#x7684;&#x5546;&#x6237;&#x53F7;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6D41;&#x6C34;&#x4E2D;&#x5339;&#x914D;&#x5230;&#x5361;&#x53F7;&#xFF0C;&#x6700;&#x7EC8;&#x901A;&#x8FC7;&#x8BBE;&#x5907;&#x53F7;&#x548C;&#x5361;&#x53F7;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x8F93;&#x51FA;&#x6BCF;&#x4E2A;&#x57CE;&#x5E02;&#x5546;&#x6237;&#x5546;&#x6237;&#x5BF9;&#x5E94;&#x7684;&#x8BBE;&#x5907;&#x53F7;&#x3002;<a id="more"></a></p></blockquote><h2 id="&#x5177;&#x4F53;&#x5B9E;&#x73B0;"><a href="#&#x5177;&#x4F53;&#x5B9E;&#x73B0;" class="headerlink" title="&#x5177;&#x4F53;&#x5B9E;&#x73B0;"></a>&#x5177;&#x4F53;&#x5B9E;&#x73B0;</h2><figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">object</span> <span class="title">MapDevice</span> </span>{</div><div class="line"></div><div class="line">  <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">MidCard</span>(<span class="params">card: <span class="type">String</span>, mid: <span class="type">String</span></span>)</span></div><div class="line"><span class="class"></span></div><div class="line"><span class="class">  <span class="title">case</span> <span class="title">class</span> <span class="title">CardDevice</span>(<span class="params">card: <span class="type">String</span>, device: <span class="type">String</span></span>)</span></div><div class="line"><span class="class"></span></div><div class="line"><span class="class"></span></div><div class="line"><span class="class">  <span class="title">case</span> <span class="title">class</span> <span class="title">CityMid</span>(<span class="params">city: <span class="type">String</span>, mid: <span class="type">String</span></span>)</span></div><div class="line"><span class="class"></span></div><div class="line"><span class="class">  <span class="title">val</span> <span class="title">comma</span> </span>= <span class="string">&quot;,&quot;</span></div><div class="line">  <span class="keyword">val</span> tab = <span class="string">&quot;\t&quot;</span></div><div class="line"></div><div class="line">  <span class="comment">// &#x4ECE;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x6765;&#x770B;&#x76F4;&#x63A5;&#x5224;&#x65AD;&#x5206;&#x5272;&#x4EE5;&#x540E;&#x7684;&#x5217;&#x6570;&#x66F4;&#x80FD;&#x591F;&#x8FC7;&#x6EE4;&#x6389;&#x810F;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x7136;&#x7A7A;&#x884C;&#x4E5F;&#x88AB;pass&#x4E86;&#x3002;</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = {</div><div class="line">    <span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setAppName(<span class="string">&quot;&#x5546;&#x6237;&#x6570;&#x636E;&#x6293;&#x53D6;&#x8BBE;&#x5907;&#x53F7;&quot;</span>).setMaster(<span class="string">&quot;local[*]&quot;</span>)</div><div class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</div><div class="line">    <span class="keyword">val</span> sqlContext = <span class="keyword">new</span> <span class="type">SQLContext</span>(sc)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// .filter(_.matches(&quot;\\S+&quot;)) &#x8FC7;&#x6EE4;&#x7A7A;&#x884C;</span></div><div class="line">    <span class="comment">// &#x8003;&#x8651;&#x5230;&#x53EA;&#x6709;city&#x548C;mid&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x91CD;&#x590D;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x8FC7;&#x6EE4;&#x4EE5;&#x540E;&#x518D;&#x5EFA;&#x8868;&#x3002;</span></div><div class="line">    <span class="keyword">import</span> sqlContext.implicits._</div><div class="line">    <span class="keyword">val</span> midFilePath = args(<span class="number">0</span>)</div><div class="line">    <span class="keyword">val</span> cardMids = sc.textFile(midFilePath)</div><div class="line">      .filter(_.trim.split(comma, <span class="number">-1</span>).length == <span class="number">6</span>)</div><div class="line">      .map(line =&gt; {</div><div class="line">        <span class="keyword">val</span> details = line.split(comma, <span class="number">-1</span>)</div><div class="line">        details(<span class="number">0</span>) + comma + details(<span class="number">4</span>)</div><div class="line">      }).distinct().map(line =&gt; {</div><div class="line">      <span class="keyword">val</span> details = line.split(comma, <span class="number">-1</span>)</div><div class="line">      <span class="type">CityMid</span>(details(<span class="number">0</span>), details(<span class="number">1</span>))</div><div class="line">    }).toDF()</div><div class="line"></div><div class="line">    cardMids.registerTempTable(<span class="string">&quot;cityMid&quot;</span>)</div><div class="line"></div><div class="line">    <span class="comment">//    cardMids.show()</span></div><div class="line"></div><div class="line">    <span class="keyword">val</span> transFilePath = args(<span class="number">1</span>)</div><div class="line"></div><div class="line">    <span class="keyword">val</span> todayMCDF = sc.newAPIHadoopFile[<span class="type">LongWritable</span>, <span class="type">Text</span>, <span class="type">LzoTextInputFormat</span>](transFilePath)</div><div class="line">      .filter(_._2.toString.split(comma, <span class="number">-1</span>).length == <span class="number">47</span>)</div><div class="line">      .map(_._2.toString.split(comma, <span class="number">-1</span>))</div><div class="line">      .map(mpc =&gt; <span class="type">MidCard</span>(mpc(<span class="number">0</span>), mpc(<span class="number">1</span>)))</div><div class="line">      .toDF()</div><div class="line"></div><div class="line">    todayMCDF.registerTempTable(<span class="string">&quot;midcard&quot;</span>)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">val</span> cardDevicePath = args(<span class="number">2</span>)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// .filter(_.trim.length &gt; 0) &#x8FC7;&#x6EE4;&#x7A7A;&#x884C;</span></div><div class="line">    <span class="comment">// _.device.matches(&quot;\\S+&quot;) &#x8FC7;&#x6EE4;&#x5339;&#x914D;&#x5230;&#x7684;&#x8BBE;&#x5907;&#x53F7;&#x4E3A;&#x7A7A;</span></div><div class="line">    <span class="keyword">val</span> cardDeviceDF = sc.textFile(cardDevicePath)</div><div class="line">      .filter(_.trim.split(tab, <span class="number">-1</span>).length == <span class="number">10</span>)</div><div class="line">      .map(line =&gt; {</div><div class="line">        <span class="keyword">val</span> items = line.split(tab, <span class="number">-1</span>)</div><div class="line">        <span class="keyword">val</span> card = items(<span class="number">0</span>)</div><div class="line">        <span class="keyword">val</span> deviceId = items(<span class="number">3</span>)</div><div class="line">        <span class="type">CardDevice</span>(card, deviceId)</div><div class="line">      }).filter(_.device.matches(<span class="string">&quot;\\S+&quot;</span>)).toDF()</div><div class="line"></div><div class="line"></div><div class="line">    cardDeviceDF.registerTempTable(<span class="string">&quot;carddevice&quot;</span>)</div><div class="line"></div><div class="line">    <span class="comment">//    cardDeviceDF.show(10)</span></div><div class="line"></div><div class="line">    <span class="keyword">val</span> resDF = sqlContext.sql(<span class="string">&quot;select city,device from (select card,city from cityMid c  join cardmid m on c.mid=m.mid ) c join carddevice d on d.card=c.card group by city,device&quot;</span>)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">//    resDF.show(5)</span></div><div class="line">    <span class="keyword">val</span> resSavePath = args(<span class="number">3</span>)</div><div class="line"></div><div class="line"></div><div class="line">    resDF.map(value =&gt; value.mkString(comma)).saveAsTextFile(resSavePath)</div><div class="line"></div><div class="line">  }</div></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">#!/usr/bin/env bash</span></div><div class="line"><span class="built_in">set</span> -x</div><div class="line"></div><div class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -ne 4 ]; <span class="keyword">then</span></div><div class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#x4E3A;<span class="variable">$#</span>&#x4E2A;&quot;</span></div><div class="line">        <span class="built_in">echo</span> <span class="string">&quot;&#x8BF7;&#x6309;&#x7167;&#x5982;&#x4E0B;&#x683C;&#x5F0F;&#x8F93;&#x5165;&#x53C2;&#x6570;&quot;</span></div><div class="line">        <span class="built_in">echo</span> <span class="string">&quot;bash map-device.sh &#x5546;&#x6237;&#x4FE1;&#x606F;&#x914D;&#x7F6E;&#x8DEF;&#x5F84; hardin&#x6D41;&#x6C34;&#x8DEF;&#x5F84; &#x5361;&#x53F7;&#x548C;&#x8BBE;&#x5907;&#x53F7;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x8DEF;&#x5F84; &#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;&quot;</span></div><div class="line">        <span class="built_in">exit</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># koulb/cardmid/onemid koulb/cardmid/testtrans.lzo* koulb/cardmid/card_device_sm3 koulb/cardmid/out</span></div><div class="line"></div><div class="line">midconfPath=<span class="variable">$1</span></div><div class="line">transPath=<span class="variable">$2</span></div><div class="line">cardDevicePath=<span class="variable">$3</span></div><div class="line">resPath=<span class="variable">$4</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">spark-submit \</div><div class="line">--class com.upsmart.MapDevice  \</div><div class="line">--num-executors 100 \</div><div class="line">--executor-memory 6G \</div><div class="line">--executor-cores 4 \</div><div class="line">--driver-memory 1G \</div><div class="line">--conf spark.default.parallelism=1000 \</div><div class="line">--conf spark.storage.memoryFraction=0.5 \</div><div class="line">--conf spark.shuffle.memoryFraction=0.3 \</div><div class="line">--master yarn-client map-device-1.0.jar <span class="variable">$midconfPath</span> <span class="variable">$transPath</span> <span class="variable">$cardDevicePath</span> <span class="variable">$resPath</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> [ $? -ne 0 ];<span class="keyword">then</span></div><div class="line">   <span class="built_in">exit</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line">fileName=`date -d <span class="string">&quot;1 hour ago&quot;</span>  +<span class="string">&quot;%Y%m%d%H&quot;</span>`</div><div class="line"></div><div class="line">fileFullName=<span class="variable">$fileName</span><span class="string">&quot;.csv&quot;</span></div><div class="line">hadoop fs -getmerge <span class="variable">$resPath</span> <span class="variable">$fileFullName</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> [ $? -ne 0 ];<span class="keyword">then</span></div><div class="line">   <span class="built_in">exit</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"></div><div class="line">awk -F <span class="string">&apos;,&apos;</span> <span class="string">&apos;{print $2  &gt;$1&quot;_&quot;&quot;&apos;</span><span class="variable">$fileName</span><span class="string">&apos;&quot;&quot;.csv&quot;}&apos;</span> <span class="variable">$fileFullName</span></div><div class="line"></div><div class="line">rm <span class="variable">$fileFullName</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> `ls`;</div><div class="line"><span class="keyword">do</span></div><div class="line">fileSuffix=`<span class="built_in">echo</span> <span class="variable">${i##*_}</span>`</div><div class="line">    <span class="keyword">if</span> [ <span class="variable">$fileSuffix</span> == <span class="variable">$fileFullName</span> ];<span class="keyword">then</span></div><div class="line">    fileSum=`md5sum <span class="variable">$i</span>  |cut -d<span class="string">&apos; &apos;</span> -f1`</div><div class="line">    <span class="built_in">echo</span> <span class="variable">$fileSum</span> &gt;<span class="variable">$i</span><span class="string">&quot;.md5&quot;</span></div><div class="line">    <span class="keyword">fi</span></div><div class="line"><span class="keyword">done</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> <span class="built_in">test</span> -e .*.crc</div><div class="line"><span class="keyword">then</span></div><div class="line">    rm -f .*.crc</div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></tbody></table></figure><h2 id="&#x95EE;&#x9898;&#x603B;&#x7ED3;"><a href="#&#x95EE;&#x9898;&#x603B;&#x7ED3;" class="headerlink" title="&#x95EE;&#x9898;&#x603B;&#x7ED3;"></a>&#x95EE;&#x9898;&#x603B;&#x7ED3;</h2><h3 id="&#x600E;&#x4E48;&#x624D;&#x7B97;&#x662F;&#x6709;&#x6548;&#x7684;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#xFF1F;"><a href="#&#x600E;&#x4E48;&#x624D;&#x7B97;&#x662F;&#x6709;&#x6548;&#x7684;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#xFF1F;" class="headerlink" title="&#x600E;&#x4E48;&#x624D;&#x7B97;&#x662F;&#x6709;&#x6548;&#x7684;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#xFF1F;"></a>&#x600E;&#x4E48;&#x624D;&#x7B97;&#x662F;&#x6709;&#x6548;&#x7684;&#x6570;&#x636E;&#x8FC7;&#x6EE4;&#xFF1F;</h3><blockquote><p>&#x539F;&#x672C;&#x7684;&#x601D;&#x8DEF;&#x662F;&#x8FC7;&#x6EE4;&#x6389;&#x7A7A;&#x884C;&#x5C31;&#x884C;&#xFF0C;&#x4F46;&#x662F;&#x540E;&#x7EED;&#x4E5F;&#x4F1A;&#x6709;&#x89D2;&#x6807;&#x8D8A;&#x754C;&#x7684;&#x98CE;&#x9669;&#x5B58;&#x5728;&#xFF0C;&#x4ECE;&#x800C;&#x8FC7;&#x6EE4;&#x7684;&#x6700;&#x7EC8;&#x6761;&#x4EF6;&#x4E3A;&#x5F53;&#x524D;&#x884C;&#x6309;&#x7167;&#x5206;&#x9694;&#x7B26;&#x5207;&#x5272;&#x4EE5;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x6807;&#x51C6;&#x5217;&#x6570;<br>ps: java&#x548C;scala&#x90FD;&#x5B58;&#x5728;&#x8FD9;&#x6837;&#x7684;bug,&#x5982;&#x679C;&#x591A;&#x884C;&#x6570;&#x636E;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5217;&#x4E3A;&#x7A7A;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;spit,&#x5F97;&#x5230;&#x7684;&#x5217;&#x6570;&#x4F1A;&#x5C11;1,&#x5F53;&#x7136;&#x4F60;&#x53BB;&#x4FBF;&#x5229;&#x8BE5;&#x6570;&#x7EC4;&#xFF0C;&#x4E5F;&#x4F1A;&#x5C11;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5FC5;&#x987B;&#x8FD9;&#x6837;&#x4F7F;&#x7528;spilt(str,-1),<br>&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#xFF1A;</p></blockquote><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">_._2.toString.split(comma, -1).length == 47</div></pre></td></tr></tbody></table></figure><h3 id="&#x5982;&#x679C;&#x5339;&#x914D;&#x5230;&#x7684;&#x8BBE;&#x5907;&#x53F7;&#x4E3A;&#x7A7A;&#x600E;&#x4E48;&#x529E;&#xFF1F;"><a href="#&#x5982;&#x679C;&#x5339;&#x914D;&#x5230;&#x7684;&#x8BBE;&#x5907;&#x53F7;&#x4E3A;&#x7A7A;&#x600E;&#x4E48;&#x529E;&#xFF1F;" class="headerlink" title="&#x5982;&#x679C;&#x5339;&#x914D;&#x5230;&#x7684;&#x8BBE;&#x5907;&#x53F7;&#x4E3A;&#x7A7A;&#x600E;&#x4E48;&#x529E;&#xFF1F;"></a>&#x5982;&#x679C;&#x5339;&#x914D;&#x5230;&#x7684;&#x8BBE;&#x5907;&#x53F7;&#x4E3A;&#x7A7A;&#x600E;&#x4E48;&#x529E;&#xFF1F;</h3><blockquote><p>&#x5F00;&#x53D1;&#x4E4B;&#x521D;&#xFF0C;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x5230;&#x8BE5;&#x56E0;&#x7D20;&#xFF0C;&#x540E;&#x6765;&#x6709;&#x95EE;&#x5230;&#x6570;&#x636E;&#x63D0;&#x4F9B;&#x7684;&#x540C;&#x4E8B;&#xFF0C;&#x4E0D;&#x6392;&#x9664;&#x4F1A;&#x5B58;&#x5728;&#x8BBE;&#x5907;&#x597D;&#x4E3A;&#x7A7A;&#x6216;&#x8005;&#x7A7A;&#x683C;&#x5360;&#x4F4D;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8FC7;&#x6EE4;&#x6389;&#x8FD9;&#x4E9B;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x8F93;&#x51FA;<br>&#x4EE3;&#x7801;:filter(_.device.matches(&#x201C;\S+&#x201D;))</p></blockquote><h3 id="&#x600E;&#x4E48;&#x591A;&#x5217;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x8FC7;&#x6EE4;&#x6389;&#x540C;&#x4E2A;&#x57CE;&#x5E02;&#x4E0B;&#x4F1A;&#x5B58;&#x5728;&#x91CD;&#x590D;&#x7684;mid"><a href="#&#x600E;&#x4E48;&#x591A;&#x5217;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x8FC7;&#x6EE4;&#x6389;&#x540C;&#x4E2A;&#x57CE;&#x5E02;&#x4E0B;&#x4F1A;&#x5B58;&#x5728;&#x91CD;&#x590D;&#x7684;mid" class="headerlink" title="&#x600E;&#x4E48;&#x591A;&#x5217;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x8FC7;&#x6EE4;&#x6389;&#x540C;&#x4E2A;&#x57CE;&#x5E02;&#x4E0B;&#x4F1A;&#x5B58;&#x5728;&#x91CD;&#x590D;&#x7684;mid"></a>&#x600E;&#x4E48;&#x591A;&#x5217;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x8FC7;&#x6EE4;&#x6389;&#x540C;&#x4E2A;&#x57CE;&#x5E02;&#x4E0B;&#x4F1A;&#x5B58;&#x5728;&#x91CD;&#x590D;&#x7684;mid</h3><blockquote><p>&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x76F4;&#x63A5;&#x8D34;&#x4EE3;&#x7801;</p></blockquote><figure class="highlight scala"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &#x8003;&#x8651;&#x5230;&#x53EA;&#x6709;city&#x548C;mid&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x5C31;&#x4F1A;&#x4EA7;&#x751F;&#x91CD;&#x590D;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x8FC7;&#x6EE4;&#x4EE5;&#x540E;&#x518D;&#x5EFA;&#x8868;&#x3002;</span></div><div class="line"> <span class="keyword">import</span> sqlContext.implicits._</div><div class="line"> <span class="keyword">val</span> midFilePath = args(<span class="number">0</span>)</div><div class="line"> <span class="keyword">val</span> cardMids = sc.textFile(midFilePath)</div><div class="line">   .filter(_.trim.split(comma, <span class="number">-1</span>).length == <span class="number">6</span>)</div><div class="line">   .map(line =&gt; {</div><div class="line">     <span class="keyword">val</span> details = line.split(comma, <span class="number">-1</span>)</div><div class="line">     details(<span class="number">0</span>) + comma + details(<span class="number">4</span>)</div><div class="line">   }).distinct().map(line =&gt; {</div><div class="line">   <span class="keyword">val</span> details = line.split(comma, <span class="number">-1</span>)</div><div class="line">   <span class="type">CityMid</span>(details(<span class="number">0</span>), details(<span class="number">1</span>))</div><div class="line"> }).toDF()</div></pre></td></tr></tbody></table></figure><h3 id="&#x5982;&#x4F55;&#x5728;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x4E2D;&#x6309;&#x6587;&#x4EF6;&#x5206;&#x53D1;&#xFF1F;&#xFF08;shell&#x5B9E;&#x73B0;&#x4EE5;&#x53CA;&#x7406;&#x8BBA;&#x4E0A;&#x7684;scala&#x5B9E;&#x73B0;&#xFF09;"><a href="#&#x5982;&#x4F55;&#x5728;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x4E2D;&#x6309;&#x6587;&#x4EF6;&#x5206;&#x53D1;&#xFF1F;&#xFF08;shell&#x5B9E;&#x73B0;&#x4EE5;&#x53CA;&#x7406;&#x8BBA;&#x4E0A;&#x7684;scala&#x5B9E;&#x73B0;&#xFF09;" class="headerlink" title="&#x5982;&#x4F55;&#x5728;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x4E2D;&#x6309;&#x6587;&#x4EF6;&#x5206;&#x53D1;&#xFF1F;&#xFF08;shell&#x5B9E;&#x73B0;&#x4EE5;&#x53CA;&#x7406;&#x8BBA;&#x4E0A;&#x7684;scala&#x5B9E;&#x73B0;&#xFF09;"></a>&#x5982;&#x4F55;&#x5728;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x4E2D;&#x6309;&#x6587;&#x4EF6;&#x5206;&#x53D1;&#xFF1F;&#xFF08;shell&#x5B9E;&#x73B0;&#x4EE5;&#x53CA;&#x7406;&#x8BBA;&#x4E0A;&#x7684;scala&#x5B9E;&#x73B0;&#xFF09;</h3><h4 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h4><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">fileName=`date -d <span class="string">&quot;1 hour ago&quot;</span>  +<span class="string">&quot;%Y%m%d%H&quot;</span>`</div><div class="line">fileFullName=<span class="variable">$fileName</span><span class="string">&quot;.csv&quot;</span></div><div class="line">hadoop fs -getmerge <span class="variable">$resPath</span> <span class="variable">$fileFullName</span></div><div class="line">awk -F <span class="string">&apos;,&apos;</span> <span class="string">&apos;{print $2  &gt;$1&quot;_&quot;&quot;&apos;</span><span class="variable">$fileName</span><span class="string">&apos;&quot;&quot;.csv&quot;}&apos;</span> <span class="variable">$fileFullName</span></div></pre></td></tr></tbody></table></figure><blockquote><p>&#x96BE;&#x70B9;1&#xFF1A;&#x6309;&#x7B2C;&#x4E00;&#x5217;&#x53BB;&#x5206;&#x53D1;&#x7B2C;&#x4E8C;&#x5217;&#x5185;&#x5BB9;&#xFF0C;&#x53C2;&#x8003;&#x672C;&#x535A;&#x5BA2;&#x7684;&#x5176;&#x4ED6;&#x6587;&#x7AE0;&#x4E2D;&#x7684;awk&#x5206;&#x53D1;&#x6587;&#x4EF6;&#x3002;<br>&#x96BE;&#x70B9;2&#xFF1A;&#x5728;awk&#x4E2D;&#x5F15;&#x7528;&#x53D8;&#x91CF;&#x7684;&#x503C;</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">koulb@koulb-ubantu:~$ a=<span class="string">&quot;test&quot;</span></div><div class="line">koulb@koulb-ubantu:~$ awk <span class="string">&apos;BEGIN{print &quot;&apos;</span><span class="variable">$a</span><span class="string">&apos;&quot;}&apos;</span> </div><div class="line"><span class="built_in">test</span></div></pre></td></tr></tbody></table></figure><h4 id="scala"><a href="#scala" class="headerlink" title="scala"></a>scala</h4><blockquote><p>&#x6700;&#x7EC8;&#x7684;&#x6587;&#x4EF6;&#x4E3A;&#x591A;&#x4E2A;&#x57CE;&#x5E02;&#x5BF9;&#x5E94;&#x8BBE;&#x5907;&#x53F7;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x9700;&#x8981;&#x505A;&#x7684;&#x662F;&#xFF0C;&#x628A;&#x7B2C;&#x4E00;&#x5217;group by &#x53BB;&#x91CD;&#xFF0C;&#x7136;&#x540E;&#x904D;&#x5386;&#x8BE5;&#x57CE;&#x5E02;&#x5217;&#x8868;&#x62FF;&#x62FF;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x8BBE;&#x5907;&#x53F7;&#xFF0C;&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x7ED3;&#x679C;&#x6587;&#x4EF6;&#x3002;</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E00;&amp;#x6279;&amp;#x5E26;&amp;#x6709;&amp;#x57CE;&amp;#x5E02;&amp;#x6807;&amp;#x8BC6;&amp;#x7684;&amp;#x5546;&amp;#x6237;&amp;#x53F7;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5728;&amp;#x6D41;&amp;#x6C34;&amp;#x4E2D;&amp;#x5339;&amp;#x914D;&amp;#x5230;&amp;#x5361;&amp;#x53F7;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x901A;&amp;#x8FC7;&amp;#x8BBE;&amp;#x5907;&amp;#x53F7;&amp;#x548C;&amp;#x5361;&amp;#x53F7;&amp;#x7684;&amp;#x6620;&amp;#x5C04;&amp;#x5173;&amp;#x7CFB;&amp;#xFF0C;&amp;#x8F93;&amp;#x51FA;&amp;#x6BCF;&amp;#x4E2A;&amp;#x57CE;&amp;#x5E02;&amp;#x5546;&amp;#x6237;&amp;#x5546;&amp;#x6237;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x8BBE;&amp;#x5907;&amp;#x53F7;&amp;#x3002;
    
    </summary>
    
    
      <category term="shell hadoop hdfs awk spark scala file suffix" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/shell-hadoop-hdfs-awk-spark-scala-file-suffix/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/03/05/hello-world/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/03/05/hello-world/</id>
    <published>2018-03-05T07:10:31.386Z</published>
    <updated>2018-03-05T07:10:31.386Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p><strong>&#x7EC8;&#x4E8E;&#x642D;&#x5EFA;&#x6210;&#x529F;,&#x6563;&#x82B1;!!!</strong></p><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      
      
        &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;&lt;strong&gt;&amp;#x7EC8;&amp;#x4E8E;&amp;#x642D;&amp;#x5EFA;&amp;#x6210;&amp;#x529F;,&amp;#x6563;&amp;#x82B1;!!!&lt;/strong&gt;&lt;/p&gt;
&lt;script src=&quot;/ITWO/liv
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>hive trim() 去除空格遇到的问题</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/02/28/hive-trim-%E5%8E%BB%E9%99%A4%E7%A9%BA%E6%A0%BC%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/02/28/hive-trim-去除空格遇到的问题/</id>
    <published>2018-02-28T05:49:22.000Z</published>
    <updated>2018-03-23T03:14:12.161Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;</h2><blockquote><p>&#x5728;&#x63D0;&#x53D6;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x6709;&#x7528;&#x5230;&#x4F7F;&#x7528;&#x5546;&#x6237;&#x53F7;&#x548C;&#x7EC8;&#x7AEF;&#x53F7;join&#x5339;&#x914D;&#x5546;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x662F;&#x8FD4;&#x73B0;&#x600E;&#x4E48;&#x90FD;&#x5339;&#x914D;&#x4E0D;&#x5230;&#xFF0C;&#x4EE5;&#x4E3A;&#x662F;&#x8FD9;&#x4E24;&#x4E2A;&#x53F7;&#x53EF;&#x80FD;&#x524D;&#x540E;&#x6709;&#x7A7A;&#x683C;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;trim()&#x51FD;&#x6570;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x8FD8;&#x662F;&#x6CA1;&#x6709;&#x5339;&#x914D;&#x5230;&#x7ED3;&#x679C;&#xFF0C;&#x540E;&#x6765;&#xFF0C;vi&#x6587;&#x4EF6; set list&#xFF0C;&#x53D1;&#x73B0; &#x6709;&#x4E00;&#x5B57;&#x6BB5;&#x540E;&#x9762;&#x6709;^I&#x7D27;&#x8DDF;&#x5176;&#x540E;&#xFF0C;&#x624D;&#x8B66;&#x89C9;&#xFF0C;&#x8FD9;&#x4E2B;&#x4E0D;&#x662F;tab&#x4E48;&#xFF0C;&#x540E;&#x6765;&#x67E5;&#x770B;&#x6E90;&#x7801;&#x53D1;&#x73B0;&#xFF0C;hive&#x7684;trim()&#x53EA;&#x5BF9;&#x7A7A;&#x683C;&#x611F;&#x5174;&#x8DA3;&#xFF0C;&#x6240;&#x4EE5;&#x60F3;&#x8D77;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;replace,&#x4F46;&#x662F;&#x60F3;&#x5230;&#x901A;&#x7528;&#x6765;&#x8BB2;&#xFF0C;&#x4F46;&#x662F;&#x8003;&#x8651;&#x5230;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x597D;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;&#x53C8;&#x67E5;&#x5230;hive&#x6709;&#x6B63;&#x5219;&#x66FF;&#x6362;&#x3002;</p></blockquote><a id="more"></a><h2 id="&#x6E90;&#x7801;&#x5206;&#x6790;"><a href="#&#x6E90;&#x7801;&#x5206;&#x6790;" class="headerlink" title="&#x6E90;&#x7801;&#x5206;&#x6790;"></a>&#x6E90;&#x7801;&#x5206;&#x6790;</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">hive <span class="number">0.10</span>.0&#x6E90;&#x7801;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">public</span> Text <span class="title">evaluate</span><span class="params">(Text s)</span> </span>{</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span>) {</div><div class="line"></div><div class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line">    result.set(StringUtils.strip(s.toString(), <span class="string">&quot; &quot;</span>));</div><div class="line"></div><div class="line">    <span class="keyword">return</span> result;</div><div class="line"></div><div class="line">  }</div></pre></td></tr></tbody></table></figure><h2 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;"><a href="#&#x89E3;&#x51B3;&#x65B9;&#x6848;" class="headerlink" title="&#x89E3;&#x51B3;&#x65B9;&#x6848;"></a>&#x89E3;&#x51B3;&#x65B9;&#x6848;</h2><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#x7528;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;</div><div class="line"></div><div class="line">      regexp_replace(yourcolname,&apos;\\s+&apos;,&apos;&apos;)</div><div class="line"></div><div class="line">&#x6700;&#x540E;&#x95EE;&#x9898;&#x5F97;&#x4EE5;&#x89E3;&#x51B3;&#x3002;&#x200B;</div></pre></td></tr></tbody></table></figure><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x63D0;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x65F6;&amp;#xFF0C;&amp;#x6709;&amp;#x7528;&amp;#x5230;&amp;#x4F7F;&amp;#x7528;&amp;#x5546;&amp;#x6237;&amp;#x53F7;&amp;#x548C;&amp;#x7EC8;&amp;#x7AEF;&amp;#x53F7;join&amp;#x5339;&amp;#x914D;&amp;#x5546;&amp;#x6237;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x8FD4;&amp;#x73B0;&amp;#x600E;&amp;#x4E48;&amp;#x90FD;&amp;#x5339;&amp;#x914D;&amp;#x4E0D;&amp;#x5230;&amp;#xFF0C;&amp;#x4EE5;&amp;#x4E3A;&amp;#x662F;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x53F7;&amp;#x53EF;&amp;#x80FD;&amp;#x524D;&amp;#x540E;&amp;#x6709;&amp;#x7A7A;&amp;#x683C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;trim()&amp;#x51FD;&amp;#x6570;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x4F46;&amp;#x8FD8;&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x5339;&amp;#x914D;&amp;#x5230;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x540E;&amp;#x6765;&amp;#xFF0C;vi&amp;#x6587;&amp;#x4EF6; set list&amp;#xFF0C;&amp;#x53D1;&amp;#x73B0; &amp;#x6709;&amp;#x4E00;&amp;#x5B57;&amp;#x6BB5;&amp;#x540E;&amp;#x9762;&amp;#x6709;^I&amp;#x7D27;&amp;#x8DDF;&amp;#x5176;&amp;#x540E;&amp;#xFF0C;&amp;#x624D;&amp;#x8B66;&amp;#x89C9;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2B;&amp;#x4E0D;&amp;#x662F;tab&amp;#x4E48;&amp;#xFF0C;&amp;#x540E;&amp;#x6765;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;hive&amp;#x7684;trim()&amp;#x53EA;&amp;#x5BF9;&amp;#x7A7A;&amp;#x683C;&amp;#x611F;&amp;#x5174;&amp;#x8DA3;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x60F3;&amp;#x8D77;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;replace,&amp;#x4F46;&amp;#x662F;&amp;#x60F3;&amp;#x5230;&amp;#x901A;&amp;#x7528;&amp;#x6765;&amp;#x8BB2;&amp;#xFF0C;&amp;#x4F46;&amp;#x662F;&amp;#x8003;&amp;#x8651;&amp;#x5230;&amp;#x4F7F;&amp;#x7528;&amp;#x6B63;&amp;#x5219;&amp;#x597D;&amp;#x70B9;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53C8;&amp;#x67E5;&amp;#x5230;hive&amp;#x6709;&amp;#x6B63;&amp;#x5219;&amp;#x66FF;&amp;#x6362;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="hive trim 空格 tab 制表符 regex_replace" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hive-trim-%E7%A9%BA%E6%A0%BC-tab-%E5%88%B6%E8%A1%A8%E7%AC%A6-regex-replace/"/>
    
  </entry>
  
  <entry>
    <title>python 拾遗</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/01/30/python-%E6%8B%BE%E9%81%97/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/01/30/python-拾遗/</id>
    <published>2018-01-30T12:09:42.000Z</published>
    <updated>2018-03-23T03:13:45.990Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x53C8;&#x662F;&#x80CC;&#x666F;"><a href="#&#x53C8;&#x662F;&#x80CC;&#x666F;" class="headerlink" title="&#x53C8;&#x662F;&#x80CC;&#x666F;"></a>&#x53C8;&#x662F;&#x80CC;&#x666F;</h2><blockquote><p>python &#x4F5C;&#x4E3A;&#x5DE5;&#x4F5C;&#x5927;&#x6570;&#x636E;mapreduce&#x811A;&#x672C;&#x652F;&#x6491;&#x8BED;&#x8A00;&#x7528;&#x8FC7;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E86;,&#x901A;&#x8FC7;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x67E5;&#x7F3A;&#x8865;&#x6F0F;.<a id="more"></a></p></blockquote><h2 id="&#x5C55;&#x5F00;&#x8865;&#x6F0F;"><a href="#&#x5C55;&#x5F00;&#x8865;&#x6F0F;" class="headerlink" title="&#x5C55;&#x5F00;&#x8865;&#x6F0F;"></a>&#x5C55;&#x5F00;&#x8865;&#x6F0F;</h2><ol><li>&#x5B57;&#x7B26;&#x4E32;&#x4E0E;&#x5176;&#x5B83;&#x7C7B;&#x578B;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x95EE;&#x9898;</li></ol><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> <span class="string">&quot;hello&quot;</span> + <span class="number">666</span></div></pre></td></tr></tbody></table></figure><blockquote><p>&#x5982;&#x4E0A;&#x4EE3;&#x7801;&#x4F1A;&#x62A5;&#x9519;&#x5982;&#x4E0B;:</p></blockquote><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">TypeError: cannot concatenate <span class="string">&apos;str&apos;</span> <span class="keyword">and</span> <span class="string">&apos;int&apos;</span> objects</div></pre></td></tr></tbody></table></figure><p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5982;&#x4E0B;:</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">&quot;hello&quot;</span>+`<span class="number">666</span>`</div><div class="line">hello666</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">&quot;hello&quot;</span>+repr(<span class="number">666</span>)</div><div class="line">hello666</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">&quot;hello&quot;</span>+str(<span class="number">666</span>)</div><div class="line">hello666</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x5982;&#x4E0A;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;,&#x7B2C;&#x4E09;&#x79CD;&#x6BD4;&#x8F83;&#x76F4;&#x89C2;,&#x4E5F;&#x662F;&#x5E38;&#x7528;&#x7684;,&#x53CD;&#x5F15;&#x53F7;&#x548C;repr&#x5219;&#x628A;&#x7ED3;&#x679C;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x4E3A;&#x5408;&#x6CD5;&#x7684;python&#x8868;&#x8FBE;&#x5F0F;,&#x73B0;&#x5728;python3&#x4E2D;&#x5DF2;&#x7ECF;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x53CD;&#x5F15;&#x53F7;&#x4E86;.<br>ps:str int long &#x5C5E;&#x4E8E;&#x6570;&#x636E;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;,&#x800C;repr&#x5C5E;&#x4E8E;&#x51FD;&#x6570;</p></blockquote><ol><li>&#x5B57;&#x7B26;&#x4E32;&#x4E0E;&#x5176;&#x5B83;&#x7C7B;&#x578B;&#x6570;&#x636E;&#x8FDE;&#x63A5;&#x95EE;&#x9898;</li></ol><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x53C8;&amp;#x662F;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x53C8;&amp;#x662F;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53C8;&amp;#x662F;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x53C8;&amp;#x662F;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;python &amp;#x4F5C;&amp;#x4E3A;&amp;#x5DE5;&amp;#x4F5C;&amp;#x5927;&amp;#x6570;&amp;#x636E;mapreduce&amp;#x811A;&amp;#x672C;&amp;#x652F;&amp;#x6491;&amp;#x8BED;&amp;#x8A00;&amp;#x7528;&amp;#x8FC7;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x4E86;,&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x67E5;&amp;#x7F3A;&amp;#x8865;&amp;#x6F0F;.
    
    </summary>
    
    
      <category term="python" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>spark ListBuffer遍历</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/01/25/spark-ListBuffer%E9%81%8D%E5%8E%86/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/01/25/spark-ListBuffer遍历/</id>
    <published>2018-01-25T12:49:50.000Z</published>
    <updated>2018-03-23T03:13:28.194Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><html><head></head><body><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;script src=&quot;/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887&quot;&gt;&lt;/script&gt;&lt;script
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>hadoop streaming 使用中遇到的问题总结</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/01/11/hadoop-streaming-%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/01/11/hadoop-streaming-使用中遇到的问题总结/</id>
    <published>2018-01-11T01:45:13.000Z</published>
    <updated>2018-03-23T03:14:38.520Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;</h2><blockquote><p>hadoop&#x751F;&#x6001;&#x5708;&#x4E2D;hadoop streaming&#x5360;&#x4E86;&#x5F88;&#x5927;&#x7684;&#x6BD4;&#x91CD;,&#x56E0;&#x4E3A;&#x5B83;&#x5F88;&#x597D;&#x7684;&#x878D;&#x5408;&#x4E86;&#x5176;&#x4ED6;&#x811A;&#x672C;&#x8BED;&#x8A00;&#x4F5C;&#x4E3A;map,reduce&#x6765;&#x5904;&#x7406;&#x4E1A;&#x52A1;&#x903B;&#x8F91;,&#x672C;&#x6587;&#x91CD;&#x70B9;&#x8BF4;&#x7684;&#x662F;&#x4F7F;&#x7528;Python&#x6216;&#x8005;shell&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;.<br><a id="more"></a></p><h2 id="&#x95EE;&#x9898;&#x6C47;&#x603B;"><a href="#&#x95EE;&#x9898;&#x6C47;&#x603B;" class="headerlink" title="&#x95EE;&#x9898;&#x6C47;&#x603B;"></a>&#x95EE;&#x9898;&#x6C47;&#x603B;</h2><h3 id="last-tool-output-null"><a href="#last-tool-output-null" class="headerlink" title="last tool output null"></a>last tool output null</h3><p>&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x5982;&#x4E0B;</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">USER=lming_08  </div><div class="line">HADOOP_USER=<span class="keyword">null</span>  </div><div class="line">last tool output: |<span class="keyword">null</span>|  </div><div class="line">  </div><div class="line">java.io.IOException: Broken pipe</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x521A;&#x5F00;&#x59CB;&#x4EE5;&#x4E3A;&#x662F; map &#x7A0B;&#x5E8F;&#x4E2D;&#x5BF9;&#x7A7A;&#x884C;&#x672A;&#x5904;&#x7406;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x540E;&#x6765;&#x53D1;&#x73B0;&#x662F; map &#x4E2D;&#x6709;&#x5BF9;&#x4E00;&#x4E2A;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#xFF0C;&#x800C;&#x7A0B;&#x5E8F;&#x5BF9;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;,&#x8BFB;&#x53D6;&#x800C;&#x4E14;&#x8BFB;&#x53D6;&#x4EE5;&#x540E;&#x8FD8;&#x4F1A;&#x7528;&#x6B63;&#x5219;&#x53BB;&#x904D;&#x5386;&#x6A21;&#x7CCA;&#x5339;&#x914D;&#x5173;&#x952E;&#x8BCD;&#xFF0C;&#x5728;&#x5904;&#x7406;&#x8BE5;&#x6587;&#x4EF6;&#x65F6;&#x4F1A;&#x6267;&#x884C; 10 &#x591A;&#x4EBF;&#x6B21;&#x5FAA;&#x73AF;&#xFF0C;&#x5BFC;&#x81F4;&#x8D85;&#x65F6;&#x4E86;&#x3002;<br>&#x89E3;&#x51B3;&#x65B9;&#x6848;:yield block &#x7684;&#x4F7F;&#x7528;,&#x5C11;&#x7528;&#x6B63;&#x5219;&#x5339;&#x914D;,&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x5207;&#x8BCD;&#x7136;&#x540E;join&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x6837;&#x7684;&#x5339;&#x914D;,&#x672C;&#x6765;mapreduce&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x7A7A;&#x95F4;&#x6362;&#x65F6;&#x95F4;,&#x5229;&#x7528;&#x96C6;&#x7FA4;&#x591A;&#x4E2A;&#x8282;&#x70B9;&#x53BB;&#x5E76;&#x884C;&#x5904;&#x7406;&#x903B;&#x8F91;.</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;hadoop&amp;#x751F;&amp;#x6001;&amp;#x5708;&amp;#x4E2D;hadoop streaming&amp;#x5360;&amp;#x4E86;&amp;#x5F88;&amp;#x5927;&amp;#x7684;&amp;#x6BD4;&amp;#x91CD;,&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x878D;&amp;#x5408;&amp;#x4E86;&amp;#x5176;&amp;#x4ED6;&amp;#x811A;&amp;#x672C;&amp;#x8BED;&amp;#x8A00;&amp;#x4F5C;&amp;#x4E3A;map,reduce&amp;#x6765;&amp;#x5904;&amp;#x7406;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;,&amp;#x672C;&amp;#x6587;&amp;#x91CD;&amp;#x70B9;&amp;#x8BF4;&amp;#x7684;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;Python&amp;#x6216;&amp;#x8005;shell&amp;#x9047;&amp;#x5230;&amp;#x7684;&amp;#x95EE;&amp;#x9898;.&lt;br&gt;
    
    </summary>
    
    
      <category term="hadoop streaming python" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hadoop-streaming-python/"/>
    
  </entry>
  
  <entry>
    <title>给hive mapreduce分配队列和优先级</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/01/10/%E7%BB%99hive-mapreduce%E5%88%86%E9%85%8D%E9%98%9F%E5%88%97%E5%92%8C%E4%BC%98%E5%85%88%E7%BA%A7/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/01/10/给hive-mapreduce分配队列和优先级/</id>
    <published>2018-01-10T08:46:12.000Z</published>
    <updated>2018-03-23T03:11:36.310Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;</h2><blockquote><p>&#x96C6;&#x7FA4;&#x8D44;&#x6E90;&#x6709;&#x9650;,&#x8003;&#x8651;&#x5230;&#x6709;&#x591A;&#x4E2A;&#x90E8;&#x95E8;&#x8981;&#x7528;&#x5230;,&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x90E8;&#x95E8;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x961F;&#x5217;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x4F7F;&#x7528;&#x96C6;&#x7FA4;&#x8D44;&#x6E90;,&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x662F;Capacity Schedule&#x5206;&#x914D;&#x7B56;&#x7565;,&#x987E;&#x540D;&#x601D;&#x4E49;,&#x662F;&#x7ED9;&#x5404;&#x4E2A;&#x961F;&#x5217;&#x5206;&#x914D;&#x76F8;&#x5E94;&#x5360;&#x6BD4;&#x7684;&#x8D44;&#x6E90;&#x6765;&#x72EC;&#x7ACB;&#x4F7F;&#x7528;,&#x800C;&#x961F;&#x5217;&#x5185;&#x90E8;&#x5219;&#x8FD8;&#x662F;&#x4F7F;&#x7528;yarn&#x9ED8;&#x8BA4;&#x7684;FIFO Schedule&#x5206;&#x914D;&#x7B56;&#x7565;,&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x961F;&#x5217;&#x53EF;&#x8BBE;&#x5B9A;&#x4E00;&#x5B9A;&#x6BD4;&#x4F8B;&#x7684;&#x8D44;&#x6E90;&#x6700;&#x4F4E;&#x4FDD;&#x8BC1;&#x548C;&#x4F7F;&#x7528;&#x4E0A;&#x9650;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x5B9A;&#x4E00;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#x4F7F;&#x7528;&#x4E0A;&#x9650;&#x4EE5;&#x9632;&#x6B62;&#x8D44;&#x6E90;&#x6EE5;&#x7528;&#x3002;&#x800C;&#x5F53;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x7684;&#x8D44;&#x6E90;&#x6709;&#x5269;&#x4F59;&#x65F6;&#xFF0C;&#x53EF;&#x6682;&#x65F6;&#x5C06;&#x5269;&#x4F59;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#x7ED9;&#x5176;&#x4ED6;&#x961F;&#x5217;&#x3002;<a id="more"></a></p></blockquote><h2 id="&#x4F7F;&#x7528;&#x8BE6;&#x89E3;"><a href="#&#x4F7F;&#x7528;&#x8BE6;&#x89E3;" class="headerlink" title="&#x4F7F;&#x7528;&#x8BE6;&#x89E3;"></a>&#x4F7F;&#x7528;&#x8BE6;&#x89E3;</h2><blockquote><p>hive &#x2013;hiveconf mapreduce.job.queuename=root.fast &#x2013;hiveconf mapreduce.job.name=&#x2019;job name&#x2019; -f  etl.hql<br>hive<br>set mapreduce.job.queuename=root.fast;<br>set mapreduce.job.name=&#x2019;job name&#x2019;</p><p>yarn application  -movetoqueue  application_1478676388082_963529  -queue  root.etl #&#x8FC1;&#x79FB;&#x4EFB;&#x52A1;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x961F;&#x5217;</p></blockquote><p>ps:</p><blockquote><p>&#x4F5C;&#x4E1A;&#x63D0;&#x4EA4;&#x5230;&#x7684;&#x961F;&#x5217;&#xFF1A;mapreduce.job.queuename</p><p>&#x4F5C;&#x4E1A;&#x4F18;&#x5148;&#x7EA7;&#xFF1A;mapreduce.job.priority&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x9ED8;&#x8BA4;&#x6709;5&#x4E2A;:LOW VERY_LOW NORMAL&#xFF08;&#x9ED8;&#x8BA4;&#xFF09; HIGH VERY_HIGH</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x96C6;&amp;#x7FA4;&amp;#x8D44;&amp;#x6E90;&amp;#x6709;&amp;#x9650;,&amp;#x8003;&amp;#x8651;&amp;#x5230;&amp;#x6709;&amp;#x591A;&amp;#x4E2A;&amp;#x90E8;&amp;#x95E8;&amp;#x8981;&amp;#x7528;&amp;#x5230;,&amp;#x6240;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0D;&amp;#x540C;&amp;#x90E8;&amp;#x95E8;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0D;&amp;#x540C;&amp;#x961F;&amp;#x5217;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x6765;&amp;#x4F7F;&amp;#x7528;&amp;#x96C6;&amp;#x7FA4;&amp;#x8D44;&amp;#x6E90;,&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;Capacity Schedule&amp;#x5206;&amp;#x914D;&amp;#x7B56;&amp;#x7565;,&amp;#x987E;&amp;#x540D;&amp;#x601D;&amp;#x4E49;,&amp;#x662F;&amp;#x7ED9;&amp;#x5404;&amp;#x4E2A;&amp;#x961F;&amp;#x5217;&amp;#x5206;&amp;#x914D;&amp;#x76F8;&amp;#x5E94;&amp;#x5360;&amp;#x6BD4;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x6765;&amp;#x72EC;&amp;#x7ACB;&amp;#x4F7F;&amp;#x7528;,&amp;#x800C;&amp;#x961F;&amp;#x5217;&amp;#x5185;&amp;#x90E8;&amp;#x5219;&amp;#x8FD8;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;yarn&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;FIFO Schedule&amp;#x5206;&amp;#x914D;&amp;#x7B56;&amp;#x7565;,&amp;#x8FD9;&amp;#x6837;&amp;#x53EF;&amp;#x4EE5;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6BCF;&amp;#x4E2A;&amp;#x961F;&amp;#x5217;&amp;#x53EF;&amp;#x8BBE;&amp;#x5B9A;&amp;#x4E00;&amp;#x5B9A;&amp;#x6BD4;&amp;#x4F8B;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x6700;&amp;#x4F4E;&amp;#x4FDD;&amp;#x8BC1;&amp;#x548C;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0A;&amp;#x9650;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#xFF0C;&amp;#x6BCF;&amp;#x4E2A;&amp;#x7528;&amp;#x6237;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBE;&amp;#x5B9A;&amp;#x4E00;&amp;#x5B9A;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0A;&amp;#x9650;&amp;#x4EE5;&amp;#x9632;&amp;#x6B62;&amp;#x8D44;&amp;#x6E90;&amp;#x6EE5;&amp;#x7528;&amp;#x3002;&amp;#x800C;&amp;#x5F53;&amp;#x4E00;&amp;#x4E2A;&amp;#x961F;&amp;#x5217;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x6709;&amp;#x5269;&amp;#x4F59;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EF;&amp;#x6682;&amp;#x65F6;&amp;#x5C06;&amp;#x5269;&amp;#x4F59;&amp;#x8D44;&amp;#x6E90;&amp;#x5171;&amp;#x4EAB;&amp;#x7ED9;&amp;#x5176;&amp;#x4ED6;&amp;#x961F;&amp;#x5217;&amp;#x3002;
    
    </summary>
    
    
      <category term="hive mapreduce queue priority" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hive-mapreduce-queue-priority/"/>
    
  </entry>
  
  <entry>
    <title>矩阵变形记</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/01/09/%E7%9F%A9%E9%98%B5%E5%8F%98%E5%BD%A2%E8%AE%B0/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/01/09/矩阵变形记/</id>
    <published>2018-01-09T09:29:37.000Z</published>
    <updated>2018-03-23T03:11:26.507Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;</h2><blockquote><p>&#x63CF;&#x8FF0;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;:<br><img src="/ITWO/assets/rangeImg.png" alt="&#x77E9;&#x9635;&#x53D8;&#x6362;&#x56FE;"><br>&#x628A;&#x5DE6;&#x8FB9;&#x7684;&#x56FE;&#x5F62;&#x8F6C;&#x6362;&#x4E3A;&#x53F3;&#x8FB9;&#x7684;&#x6A21;&#x6837;<a id="more"></a></p></blockquote><h2 id="&#x6280;&#x672F;&#x5206;&#x6790;"><a href="#&#x6280;&#x672F;&#x5206;&#x6790;" class="headerlink" title="&#x6280;&#x672F;&#x5206;&#x6790;"></a>&#x6280;&#x672F;&#x5206;&#x6790;</h2><blockquote><p>&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5FEB;&#x901F;&#x4E0A;&#x624B;&#x7684;python&#x811A;&#x672C;&#x8BED;&#x8A00;,&#x903B;&#x8F91;&#x7406;&#x987A;&#x4E86;,&#x8BED;&#x8A00;&#x53EA;&#x662F;&#x8F85;&#x52A9;.<br>&#x903B;&#x8F91;&#x5206;&#x6790;:<br>&#x65E2;&#x8981;&#x63A7;&#x5236;&#x7EB5;&#x5411;&#x8F93;&#x51FA;&#x7684;&#x5217;&#x6570;,&#x53C8;&#x8981;&#x63A7;&#x5236;&#x6A2A;&#x5411;&#x7684;&#x8F93;&#x51FA;&#x683C;&#x5F0F;,&#x6240;&#x4EE5;&#x4F1A;&#x7528;&#x5230;&#x4E24;&#x5C42;&#x7684;for&#x5FAA;&#x73AF;,&#x5728;&#x63A7;&#x5236;&#x7EB5;&#x5411;&#x5EF6;&#x4F38;&#x7684;&#x540C;&#x65F6;,&#x5F80;&#x80D6;&#x7684;&#x63A7;&#x5236;&#x81A8;&#x80C0;,&#x7EB5;&#x5411;&#x7684;&#x957F;&#x5EA6;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x7B49;&#x4E8E;&#x4F20;&#x5165;&#x7684;c+k-1,&#x6A2A;&#x5411;&#x7684;&#x5BBD;&#x5EA6;&#x662F;&#x4E3A;k,&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x4E8C;&#x7EF4;&#x89D2;&#x6807;&#x904D;&#x5386;,&#x6240;&#x4EE5;&#x8981;&#x8003;&#x8651;&#x5230;&#x8D8A;&#x754C;&#x7684;&#x95EE;&#x9898;,&#x62FF;&#x6700;&#x6781;&#x7AEF;&#x7684;&#x7B2C;c&#x5217;&#x6765;&#x6A21;&#x62DF;&#x901A;&#x7528;&#x7684;&#x8F93;&#x51FA;&#x51FD;&#x6570;,&#x597D;&#x6BD4;&#x8FD9;&#x91CC;&#x4F20;&#x5165;&#x7684;&#x662F;3,print a[2][0],a[1][1],a[0][2],&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8F93;&#x51FA;&#x7684;&#x4E00;&#x7EF4;&#x4E8C;&#x7EF4;&#x7684;&#x89D2;&#x6807;&#x4E4B;&#x548C;&#x7B49;&#x4E8E;&#x7EB5;&#x5411;&#x904D;&#x5386;&#x7684;i&#x7684;&#x503C;,&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x4E00;&#x7EF4;&#x7684;&#x89D2;&#x6807;&#x4E3A;&#x964D;&#x5E8F;,&#x622A;&#x6B62;&#x7EB5;&#x5411;&#x89D2;&#x6807;&#x8D8A;&#x754C;&#x4E4B;&#x524D;,&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x5230;tempColl.append(str(a[i-j][j])),&#x8F93;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x5806;&#x79EF;,&#x8FD9;&#x6837;&#x7684;&#x5C31;&#x53EF;&#x4EE5;&#x628A;&#x6A2A;&#x5411;&#x7684;&#x8F93;&#x51FA;&#x63A7;&#x5236;&#x5728;i&#x7684;&#x4E2A;&#x6570;&#x5185;,&#x7136;&#x540E;&#x8BA8;&#x8BBA;&#x504F;&#x79FB;,&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x504F;&#x79FB;&#x90E8;&#x5206;&#x8981;&#x8865;&#x4F4D;,&#x8865;&#x4F4D;&#x7684;&#x4E2A;&#x6570;&#x53C8;&#x548C;&#x7EB5;&#x5411;&#x904D;&#x5386;&#x7684;i-j&gt;c-1&#x904D;&#x5386;&#x7684;&#x6B21;&#x6570;&#x76F8;&#x7B49;,&#x5229;&#x7528;&#x8BE5;&#x7279;&#x6027;,&#x6211;&#x4EEC;&#x4E0D;&#x7528;&#x523B;&#x610F;&#x53BB;&#x8865;&#x51E0;&#x4E2A;&#x7A7A;&#x4F4D;,&#x5229;&#x7528;&#x7EB5;&#x5411;&#x904D;&#x5386;&#x8D85;&#x51FA;c-1&#x65F6;,&#x4E00;&#x7EF4;&#x89D2;&#x6807;&#x5C31;&#x8981;&#x8D8A;&#x754C;&#x7684;&#x7279;&#x6027;,&#x5728;&#x6A2A;&#x5411;&#x904D;&#x5386;&#x7684;&#x65F6;&#x5019;,i-j&gt;c-1(&#x89D2;&#x6807;&#x7B49;&#x4E8E;&#x957F;&#x5EA6;&#x51CF;&#x4E00;)&#x51E0;&#x6B21;&#x5C31;&#x8865;&#x51E0;&#x4E2A;&#x7A7A;&#x683C;,&#x5F53;&#x904D;&#x5386;&#x5230;&#x6B63;&#x5E38;&#x8F93;&#x51FA;&#x7684;&#x4E8C;&#x7EF4;&#x89D2;&#x6807;&#x65F6;,&#x4E5F;&#x540C;&#x65F6;&#x5957;&#x7528;&#x4E0A;&#x8FB9;&#x7684;&#x901A;&#x7528;&#x516C;&#x5F0F;&#x8F93;&#x51FA;tempColl.append(str(a[i-j][j])).<br><strong>&#x6838;&#x5FC3;</strong>:&#x65E0;&#x8BBA;&#x4E8C;&#x7EF4;&#x89D2;&#x6807;&#x600E;&#x4E48;&#x53D8;&#x6362;,&#x6700;&#x7EC8;&#x80AF;&#x5B9A;&#x4F1A;&#x63A7;&#x5236;&#x5728;i-j&#x7684;&#x8303;&#x56F4;&#x5185;(&#x8D8A;&#x754C;&#x7684;&#x8865;&#x4F4D;(&#x7A7A;&#x683C;)).</p></blockquote><h2 id="&#x4EE3;&#x7801;&#x5206;&#x6790;"><a href="#&#x4EE3;&#x7801;&#x5206;&#x6790;" class="headerlink" title="&#x4EE3;&#x7801;&#x5206;&#x6790;"></a>&#x4EE3;&#x7801;&#x5206;&#x6790;</h2><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*-coding:utf-8-*-  </span></div><div class="line"><span class="comment">#!/usr/bin/env python </span></div><div class="line"></div><div class="line"><span class="comment"># final version</span></div><div class="line"><span class="comment"># print a[0][0]</span></div><div class="line"><span class="comment"># print a[1][0],a[0][1]</span></div><div class="line"><span class="comment"># print a[2][0],a[1][1],a[0][2]</span></div><div class="line"><span class="comment"># print &apos; &apos;,a[2][1],a[1][2]</span></div><div class="line"><span class="comment"># print &apos; &apos;,&apos; &apos;,a[2][2]</span></div><div class="line"></div><div class="line"><span class="comment"># 0</span></div><div class="line"><span class="comment"># 3 1</span></div><div class="line"><span class="comment"># 6 4 2</span></div><div class="line"><span class="comment">#   7 5</span></div><div class="line"><span class="comment">#     8</span></div><div class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line">c = int(raw_input(<span class="string">&apos;&#x8F93;&#x5165;&#x77E9;&#x5F62;&#x957F;&#x5EA6;&#xFF1A;&apos;</span>))</div><div class="line">k = int(raw_input(<span class="string">&apos;&#x8F93;&#x5165;&#x77E9;&#x5F62;&#x5BBD;&#x5EA6;: &apos;</span>))</div><div class="line"></div><div class="line">a = arange(c*k).reshape(c,k)</div><div class="line"><span class="keyword">print</span> a</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># lines = a.shape[0]</span></div><div class="line"><span class="comment"># lines = lines + lines-1</span></div><div class="line"></div><div class="line"><span class="comment"># rows = a.shape[0]</span></div><div class="line"></div><div class="line"></div><div class="line">lines =c+k<span class="number">-1</span></div><div class="line"></div><div class="line">rows = k</div><div class="line"></div><div class="line">sep = <span class="string">&apos; &apos;</span></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(lines):</div><div class="line">tempColl = []</div><div class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(rows):</div><div class="line"><span class="keyword">if</span>(i-j&gt;c<span class="number">-1</span>):</div><div class="line">tempColl.append(sep)</div><div class="line"><span class="keyword">elif</span>(i-j&gt;=<span class="number">0</span>):</div><div class="line">tempColl.append(str(a[i-j][j]))</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">&quot;,&quot;</span>.join(tempColl)</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x63A5;&#x6536;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x6765;&#x8BBE;&#x5B9A;&#x9700;&#x8981;&#x751F;&#x6210;&#x51E0;&#x884C;&#x51E0;&#x5217;&#x7684;&#x6570;&#x636E;&#x77E9;&#x9635;<br></p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">c = int(raw_input(<span class="string">&apos;&#x8F93;&#x5165;&#x77E9;&#x5F62;&#x957F;&#x5EA6;&#xFF1A;&apos;</span>))</div><div class="line">k = int(raw_input(<span class="string">&apos;&#x8F93;&#x5165;&#x77E9;&#x5F62;&#x5BBD;&#x5EA6;: &apos;</span>))</div><div class="line"></div><div class="line">a = arange(c*k).reshape(c,k)</div><div class="line"><span class="keyword">print</span> a</div></pre></td></tr></tbody></table></figure><p></p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x63CF;&amp;#x8FF0;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#x6240;&amp;#x793A;:&lt;br&gt;&lt;img src=&quot;/ITWO/assets/rangeImg.png&quot; alt=&quot;&amp;#x77E9;&amp;#x9635;&amp;#x53D8;&amp;#x6362;&amp;#x56FE;&quot;&gt;&lt;br&gt;&amp;#x628A;&amp;#x5DE6;&amp;#x8FB9;&amp;#x7684;&amp;#x56FE;&amp;#x5F62;&amp;#x8F6C;&amp;#x6362;&amp;#x4E3A;&amp;#x53F3;&amp;#x8FB9;&amp;#x7684;&amp;#x6A21;&amp;#x6837;
    
    </summary>
    
    
      <category term="python numpy 矩阵" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/python-numpy-%E7%9F%A9%E9%98%B5/"/>
    
  </entry>
  
  <entry>
    <title>crontab 使用规范</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2018/01/02/crontab-%E4%BD%BF%E7%94%A8%E8%A7%84%E8%8C%83/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2018/01/02/crontab-使用规范/</id>
    <published>2018-01-02T02:17:01.000Z</published>
    <updated>2018-03-23T03:14:49.843Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"><a href="#&#x80CC;&#x666F;&#x63CF;&#x8FF0;" class="headerlink" title="&#x80CC;&#x666F;&#x63CF;&#x8FF0;"></a>&#x80CC;&#x666F;&#x63CF;&#x8FF0;</h2><blockquote><p>&#x5728;&#x4F7F;&#x7528;crontab&#x5B9A;&#x5236;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x65F6;,&#x6CA1;&#x6709;&#x7ED3;&#x679C;&#x8F93;&#x51FA;,&#x60F3;&#x53BB;&#x67E5;&#x770B;&#x4E0B;log.&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x627E;&#x5230;,&#x901A;&#x8FC7;&#x4E00;&#x4E0B;&#x9014;&#x5F84;&#x6765;&#x5B9A;&#x4F4D;&#x95EE;&#x9898;.<br><a id="more"></a></p><h2 id="&#x95EE;&#x9898;&#x5206;&#x6790;"><a href="#&#x95EE;&#x9898;&#x5206;&#x6790;" class="headerlink" title="&#x95EE;&#x9898;&#x5206;&#x6790;:"></a>&#x95EE;&#x9898;&#x5206;&#x6790;:</h2><p>&#x2460;&#x8BE5;&#x670D;&#x52A1;&#x6709;&#x6CA1;&#x6709;&#x5F00;&#x542F;?</p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#x67E5;&#x770B;&#x8BE5;&#x670D;&#x52A1;&#x662F;&#x5426;&#x5F00;&#x542F;?</div><div class="line">sudo /etc/init.d/crond status </div><div class="line">&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5F00;&#x542F;,&#x542F;&#x52A8;&#x8BE5;&#x670D;&#x52A1;.</div><div class="line">sudo /etc/init.d/crond start</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x2461;&#x786E;&#x8BA4;&#x8BE5;&#x4EFB;&#x52A1;&#x5F00;&#x542F;&#x4EE5;&#x540E;,&#x67E5;&#x770B;log&#x5B9A;&#x4F4D;&#x95EE;&#x9898;,&#x7136;&#x540E;&#x5E76;&#x6CA1;&#x6709;&#x770B;&#x5230;log.</p></blockquote><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#x4FEE;&#x6539;rsyslog</div><div class="line">sudo vim /etc/rsyslog.d/50-default.conf</div><div class="line">cron.*              /var/log/cron.log #&#x5C06;cron&#x524D;&#x9762;&#x7684;&#x6CE8;&#x91CA;&#x7B26;&#x53BB;&#x6389; </div><div class="line">&#x91CD;&#x542F;rsyslog</div><div class="line">sudo  service rsyslog  restart</div><div class="line">&#x67E5;&#x770B;crontab&#x65E5;&#x5FD7;</div><div class="line">less  /var/log/cron.log</div></pre></td></tr></tbody></table></figure><h2 id="&#x7528;&#x6CD5;&#x6838;&#x5FC3;"><a href="#&#x7528;&#x6CD5;&#x6838;&#x5FC3;" class="headerlink" title="&#x7528;&#x6CD5;&#x6838;&#x5FC3;"></a>&#x7528;&#x6CD5;&#x6838;&#x5FC3;</h2><blockquote><p>&#x8BED;&#x6CD5;&#x89C4;&#x8303;:</p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">m h  dom mon dow   command</div><div class="line">&#x5206; &#x65F6; &#x6BCF;&#x6708;&#x7684;&#x7B2C;&#x51E0;&#x65E5; &#x6BCF;&#x5E74;&#x7684;&#x7B2C;&#x51E0;&#x4E2A;&#x6708; &#x6BCF;&#x5468;&#x7684;&#x7B2C;&#x51E0;&#x5929; &#x53EF;&#x6267;&#x884C;&#x4EFB;&#x52A1;</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x4F7F;&#x7528;demo</p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> &#x6BCF;&#x5929;&#x7684;10:05&#x8F93;&#x51FA;<span class="string">&quot;1232&quot;</span>&#x5230;<span class="built_in">log</span>&#x4E2D;</span></div><div class="line">05 10 * * * echo &apos;1232&apos; &gt;&gt; /home/testuser/test.log 2&gt;&amp;1</div></pre></td></tr></tbody></table></figure><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;&amp;#x80CC;&amp;#x666F;&amp;#x63CF;&amp;#x8FF0;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;crontab&amp;#x5B9A;&amp;#x5236;&amp;#x5B9A;&amp;#x65F6;&amp;#x4EFB;&amp;#x52A1;&amp;#x65F6;,&amp;#x6CA1;&amp;#x6709;&amp;#x7ED3;&amp;#x679C;&amp;#x8F93;&amp;#x51FA;,&amp;#x60F3;&amp;#x53BB;&amp;#x67E5;&amp;#x770B;&amp;#x4E0B;log.&amp;#x4F46;&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x627E;&amp;#x5230;,&amp;#x901A;&amp;#x8FC7;&amp;#x4E00;&amp;#x4E0B;&amp;#x9014;&amp;#x5F84;&amp;#x6765;&amp;#x5B9A;&amp;#x4F4D;&amp;#x95EE;&amp;#x9898;.&lt;br&gt;
    
    </summary>
    
    
      <category term="crontab log" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/crontab-log/"/>
    
  </entry>
  
  <entry>
    <title>spring boot 和layui 集合实现简单的提供页面加解密工具</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2017/12/28/spring-boot-%E5%92%8Clayui-%E9%9B%86%E5%90%88%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E6%8F%90%E4%BE%9B%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%A7%A3%E5%AF%86%E5%B7%A5%E5%85%B7/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2017/12/28/spring-boot-和layui-集合实现简单的提供页面加解密工具/</id>
    <published>2017-12-28T05:56:53.000Z</published>
    <updated>2018-03-23T03:12:58.123Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;:"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;:</h2><blockquote><p>&#x516C;&#x53F8;&#x73B0;&#x9636;&#x6BB5;&#x6709;&#x5F88;&#x591A;&#x7684;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;,&#x8FC7;&#x6BB5;&#x65F6;&#x95F4;&#x4F1A;&#x6700;&#x7EC8;&#x53EA;&#x6709;&#x4E00;&#x4E2A;SM3,&#x6240;&#x4EE5;&#x8FC7;&#x6E21;&#x9636;&#x6BB5;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x7684;&#x89E3;&#x5BC6;&#x52A0;&#x5BC6;&#x7684;&#x67E5;&#x8BE2;&#x89E3;&#x6790;&#x8BC9;&#x6C42;,&#x6240;&#x4EE5;&#x501F;&#x7528;&#x4E00;&#x4E2A;&#x4E0B;&#x5348;&#x7684;&#x65F6;&#x95F4;&#x60F3;&#x5B9E;&#x73B0;&#x4E0B;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4F9B;&#x540C;&#x4E8B;&#x4F7F;&#x7528;,&#x6765;&#x5B8C;&#x6210;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;:</p></blockquote><ol><li>&#x660E;&#x6587;&#x5230;&#x73B0;&#x516C;&#x53F8;&#x7684;&#x5404;&#x79CD;&#x52A0;&#x5BC6;(&#x81EA;&#x5B9A;&#x4E49;&#x8131;&#x654F;,aes,sm3).</li><li>&#x8131;&#x654F;&#x6216;&#x8005;aes&#x7684;&#x6570;&#x636E;&#x7684;&#x89E3;&#x5BC6;&#x64CD;&#x4F5C;.</li><li>&#x8131;&#x654F;&#x548C;aes&#x6570;&#x636E;&#x5230;sm3&#x7684;&#x64CD;&#x4F5C;.<a id="more"></a><h2 id="&#x6280;&#x672F;&#x5206;&#x6790;"><a href="#&#x6280;&#x672F;&#x5206;&#x6790;" class="headerlink" title="&#x6280;&#x672F;&#x5206;&#x6790;:"></a>&#x6280;&#x672F;&#x5206;&#x6790;:</h2><blockquote><p>ui &#x9009;&#x62E9;&#x7684;&#x65F6;&#x5019;&#x9009;&#x62E9;&#x4E86;&#x5FEB;&#x901F;&#x4E0A;&#x624B;&#x7684;layui,&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5C01;&#x88C5;&#x5404;&#x79CD;DOM,java&#x6846;&#x67B6;&#x9009;&#x62E9;&#x4E86;&#x5FEB;&#x901F;&#x642D;&#x5EFA;&#x7684;spring boot,&#x7136;&#x540E;&#x4E00;&#x6B65;&#x5230;&#x4F4D;&#x5B9E;&#x73B0;&#x529F;&#x80FD;.</p></blockquote></li></ol><h2 id="&#x6280;&#x672F;&#x5B9E;&#x73B0;"><a href="#&#x6280;&#x672F;&#x5B9E;&#x73B0;" class="headerlink" title="&#x6280;&#x672F;&#x5B9E;&#x73B0;"></a>&#x6280;&#x672F;&#x5B9E;&#x73B0;</h2><h3 id="&#x6574;&#x5408;&#x6838;&#x5FC3;&#x70B9;"><a href="#&#x6574;&#x5408;&#x6838;&#x5FC3;&#x70B9;" class="headerlink" title="&#x6574;&#x5408;&#x6838;&#x5FC3;&#x70B9;"></a>&#x6574;&#x5408;&#x6838;&#x5FC3;&#x70B9;</h3><blockquote><p>springboot&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x95EE;&#x9898;,&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#x6211;&#x4EEC;&#x5728;&#x4E0E;&#x524D;&#x7AEF;&#x7ED1;&#x5B9A;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5728;resource&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;<br>&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;static&#x76EE;&#x5F55;&#x7528;&#x6765;&#x5B58;&#x653E;&#x7528;&#x5230;&#x7684;css&#x548C;js,&#x5E76;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;template&#x76EE;&#x5F55;&#x7528;&#x6765;&#x5B58;&#x653E;h5&#x9875;&#x9762;&#xFF0C;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;<br><strong>&#x8FD9;&#x4E24;&#x4E2A;&#x76EE;&#x5F55;&#x5BF9;&#x4E8E;springboot&#x9879;&#x76EE;&#x6765;&#x8BB2;&#x662F;&#x900F;&#x660E;&#x548C;&#x5C4F;&#x853D;&#x6389;&#x7684;</strong>&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5728;h5&#x9875;&#x9762;&#x8BBE;&#x8BA1;js&#x8DEF;&#x5F84;&#x548C;css&#x8DEF;&#x5F84;&#x7684;&#x65F6;&#x5019;&#x8981;&#x8003;&#x8651;&#x5230;&#x8BE5;&#x5F71;&#x54CD;&#x56E0;&#x7D20;.</p></blockquote><h3 id="h5&#x548C;layui"><a href="#h5&#x548C;layui" class="headerlink" title="h5&#x548C;layui"></a>h5&#x548C;layui</h3><blockquote><p>&#x5177;&#x4F53;&#x5B9E;&#x4F8B;&#x5982;&#x4E0B;:</p></blockquote><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">&#x251C;&#x2500;&#x2500; java</div><div class="line">&#x251C;&#x2500;&#x2500; resources</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; banner.txt</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; faviconbak.ico</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; favicon.ico</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; static</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; js</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; layui</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0;     &#x251C;&#x2500;&#x2500; css</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0;     &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; layui.css</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0;     &#x251C;&#x2500;&#x2500; layui.all.js</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2502;&#xA0;&#xA0;     &#x2514;&#x2500;&#x2500; layui.js</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; templates</div><div class="line">&#x2502;&#xA0;&#xA0;     &#x2514;&#x2500;&#x2500; index.html</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x4EE5;&#x4E0B;&#x4E3A;&#x5728;index.html&#x4E2D;&#x7684;&#x6B63;&#x786E;&#x5199;&#x6CD5;:</p></blockquote><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;layui/css/layui.css&quot;</span> <span class="attr">media</span>=<span class="string">&quot;all&quot;</span>/&gt;</span></div></pre></td></tr></tbody></table></figure><blockquote><p>&#x9519;&#x8BEF;&#x5199;&#x6CD5;(&#x81EA;&#x4EE5;&#x4E3A;&#x7684;&#x5199;&#x6CD5;):</p></blockquote><figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../static/layui/css/layui.css&quot;</span> <span class="attr">media</span>=<span class="string">&quot;all&quot;</span>/&gt;</span></div></pre></td></tr></tbody></table></figure><blockquote><p>layui&#x548C;&#x540E;&#x53F0;ajax&#x4EA4;&#x4E92;&#x90E8;&#x5206;</p></blockquote><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line"></div><div class="line">    layui.use([<span class="string">&apos;form&apos;</span>],<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</div><div class="line">        <span class="keyword">var</span> form = layui.form</div><div class="line">        ,$ = layui.$</div><div class="line">        ,layer = layui.layer;</div><div class="line"></div><div class="line"></div><div class="line">          <span class="comment">//&#x76D1;&#x542C;&#x63D0;&#x4EA4;</span></div><div class="line">        form.on(<span class="string">&apos;submit(demo1)&apos;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>{</div><div class="line">            $.ajax({</div><div class="line">                url: <span class="string">&quot;/data/handle&quot;</span>,</div><div class="line">                contentType: <span class="string">&quot;application/json&quot;</span>,</div><div class="line">                data: data.field, <span class="comment">//&#x8BF7;&#x6C42;&#x7684;&#x9644;&#x52A0;&#x53C2;&#x6570;&#xFF0C;&#x7528;json&#x5BF9;&#x8C61;</span></div><div class="line">                method: <span class="string">&apos;GET&apos;</span>,</div><div class="line">                success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>{</div><div class="line">                    layer.msg(res, {</div><div class="line">                        time: <span class="number">20000</span>, <span class="comment">//20s&#x540E;&#x81EA;&#x52A8;&#x5173;&#x95ED;</span></div><div class="line">                        btn: [<span class="string">&apos;&#x660E;&#x767D;&#x4E86;&apos;</span>, <span class="string">&apos;&#x77E5;&#x9053;&#x4E86;&apos;</span>, <span class="string">&apos;&#x54E6;&apos;</span>]</div><div class="line">                    });</div><div class="line">                }</div><div class="line">            })</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        });</div><div class="line"></div><div class="line"></div><div class="line">    });</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></tbody></table></figure><h3 id="java&#x90E8;&#x5206;"><a href="#java&#x90E8;&#x5206;" class="headerlink" title="java&#x90E8;&#x5206;:"></a>java&#x90E8;&#x5206;:</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> cn.upsmart.controller;</div><div class="line"></div><div class="line"><span class="keyword">import</span> cn.upsmart.constant.GlobalContant;</div><div class="line"><span class="keyword">import</span> cn.upsmart.utils.HandleUtils;</div><div class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</div><div class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</div><div class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Copyright (C), 2017, &#x516C;&#x53F8;</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * <span class="doctag">@author</span> koulb</span></div><div class="line"><span class="comment"> * <span class="doctag">@version</span> 0.0.1</span></div><div class="line"><span class="comment"> * <span class="doctag">@desc</span> &#x5904;&#x7406;&#x6570;&#x636E;&#x6838;&#x5FC3;&#x7C7B;</span></div><div class="line"><span class="comment"> * <span class="doctag">@date</span> 17-12-26</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="meta">@RestController</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataHandleController</span> </span>{</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String aesKey = <span class="string">&quot;fdadssfafdadssfa&quot;</span>;</div><div class="line">    </div><div class="line">    <span class="meta">@RequestMapping</span>(<span class="string">&quot;/data/handle&quot;</span>)</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">dataHandle</span><span class="params">(@RequestParam String inputdata,</span></span></div><div class="line"><span class="function"><span class="params">                             @RequestParam String dataSource,</span></span></div><div class="line"><span class="function"><span class="params">                             @RequestParam String dataType,</span></span></div><div class="line"><span class="function"><span class="params">                             @RequestParam String handleType)</span> </span>{</div><div class="line">        </div><div class="line">        <span class="keyword">switch</span> (dataType) {</div><div class="line">            <span class="keyword">case</span> GlobalContant.REAL:</div><div class="line">                <span class="keyword">switch</span> (handleType) {</div><div class="line">                    <span class="keyword">case</span> GlobalContant.SMARTENCODE:</div><div class="line">                        <span class="keyword">return</span> HandleUtils.realToTm(inputdata, dataSource);</div><div class="line">                    <span class="keyword">case</span> GlobalContant.SM3:</div><div class="line">                        <span class="keyword">return</span> HandleUtils.realToSM3(inputdata, dataSource);</div><div class="line">                    <span class="keyword">case</span> GlobalContant.AES:</div><div class="line">                        <span class="keyword">return</span> HandleUtils.realToAes(inputdata, dataSource, aesKey);</div><div class="line">                    <span class="keyword">default</span>:</div><div class="line">                        <span class="keyword">return</span> <span class="string">&quot;&#x52A0;&#x5BC6;&#x771F;&#x5B9E;&#x5361;&#x53F7;&#x65F6;,&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x52A0;&#x5BC6;&#x7C7B;&#x578B;&quot;</span>;</div><div class="line">                }</div><div class="line">            <span class="keyword">case</span> GlobalContant.SMARTENCODE:</div><div class="line">                <span class="keyword">switch</span> (handleType) {</div><div class="line">                    <span class="keyword">case</span> GlobalContant.AES:</div><div class="line">                        <span class="keyword">return</span> HandleUtils.tmToAES(inputdata, dataSource);</div><div class="line">                    <span class="keyword">case</span> GlobalContant.SM3:</div><div class="line">                        <span class="keyword">return</span> HandleUtils.tmToSM3(inputdata, dataSource);</div><div class="line">                    <span class="keyword">case</span> GlobalContant.SMARTDECODE:</div><div class="line">                        <span class="keyword">return</span> HandleUtils.tmToReal(inputdata, dataSource);</div><div class="line">                    <span class="keyword">default</span>:</div><div class="line">                        <span class="keyword">return</span> <span class="string">&quot;&#x5904;&#x7406;&#x53CD;&#x8131;&#x654F;&#x6570;&#x636E;&#x65F6;,&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&quot;</span>;</div><div class="line">                }</div><div class="line">            <span class="keyword">case</span> GlobalContant.AES:</div><div class="line">                String tmdata;</div><div class="line">                <span class="keyword">switch</span> (handleType) {</div><div class="line">                    <span class="keyword">case</span> GlobalContant.DAES:</div><div class="line">                        tmdata = HandleUtils.daes(inputdata, aesKey);</div><div class="line">                        <span class="keyword">return</span> HandleUtils.tmToReal(tmdata, dataSource);</div><div class="line">                    <span class="keyword">case</span> GlobalContant.SM3:</div><div class="line">                        tmdata = HandleUtils.daes(inputdata, aesKey);</div><div class="line">                        String realdata = HandleUtils.tmToReal(tmdata, dataSource);</div><div class="line">                        <span class="keyword">return</span> HandleUtils.realToSM3(realdata, dataSource);</div><div class="line">                    <span class="keyword">case</span> GlobalContant.SMARTENCODE:</div><div class="line">                        <span class="keyword">return</span> HandleUtils.daes(inputdata, aesKey);</div><div class="line">                    <span class="keyword">default</span>:</div><div class="line">                        <span class="keyword">return</span> <span class="string">&quot;&#x5904;&#x7406;AES&#x52A0;&#x5BC6;&#x7684;&#x6570;&#x636E;&#x65F6;,&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&quot;</span>;</div><div class="line">                }</div><div class="line">        }</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="keyword">return</span> <span class="string">&quot;&#x672A;&#x77E5;&#x9519;&#x8BEF;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&quot;</span>;</div><div class="line">    }</div><div class="line">    </div><div class="line">    </div><div class="line">}</div></pre></td></tr></tbody></table></figure><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;:&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;:&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x516C;&amp;#x53F8;&amp;#x73B0;&amp;#x9636;&amp;#x6BB5;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#x7684;&amp;#x52A0;&amp;#x5BC6;&amp;#x65B9;&amp;#x5F0F;,&amp;#x8FC7;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x4F1A;&amp;#x6700;&amp;#x7EC8;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;SM3,&amp;#x6240;&amp;#x4EE5;&amp;#x8FC7;&amp;#x6E21;&amp;#x9636;&amp;#x6BB5;&amp;#x4F1A;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#x7684;&amp;#x89E3;&amp;#x5BC6;&amp;#x52A0;&amp;#x5BC6;&amp;#x7684;&amp;#x67E5;&amp;#x8BE2;&amp;#x89E3;&amp;#x6790;&amp;#x8BC9;&amp;#x6C42;,&amp;#x6240;&amp;#x4EE5;&amp;#x501F;&amp;#x7528;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E0B;&amp;#x5348;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#x60F3;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0B;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E00;&amp;#x4E2A;&amp;#x9875;&amp;#x9762;&amp;#x4F9B;&amp;#x540C;&amp;#x4E8B;&amp;#x4F7F;&amp;#x7528;,&amp;#x6765;&amp;#x5B8C;&amp;#x6210;&amp;#x4EE5;&amp;#x4E0B;&amp;#x529F;&amp;#x80FD;:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x660E;&amp;#x6587;&amp;#x5230;&amp;#x73B0;&amp;#x516C;&amp;#x53F8;&amp;#x7684;&amp;#x5404;&amp;#x79CD;&amp;#x52A0;&amp;#x5BC6;(&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x8131;&amp;#x654F;,aes,sm3).&lt;/li&gt;
&lt;li&gt;&amp;#x8131;&amp;#x654F;&amp;#x6216;&amp;#x8005;aes&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x89E3;&amp;#x5BC6;&amp;#x64CD;&amp;#x4F5C;.&lt;/li&gt;
&lt;li&gt;&amp;#x8131;&amp;#x654F;&amp;#x548C;aes&amp;#x6570;&amp;#x636E;&amp;#x5230;sm3&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;.
    
    </summary>
    
    
      <category term="spring boot layui" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/spring-boot-layui/"/>
    
  </entry>
  
  <entry>
    <title>hbase 数据导入问题总结</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2017/12/26/hbase-%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2017/12/26/hbase-数据导入问题总结/</id>
    <published>2017-12-26T01:43:20.000Z</published>
    <updated>2018-03-23T03:14:29.792Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;</h2><blockquote><p>&#x516C;&#x53F8;&#x73B0;&#x63D0;&#x4F9B;&#x4E00;&#x6279;&#x753B;&#x50CF;&#x9700;&#x8981;&#x5BFC;&#x5165;&#x5230;hbase&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5;&#x753B;&#x50CF;&#x8FD8;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x5904;&#x7406;&#x624D;&#x80FD;&#x4F5C;&#x4E3A;&#x6700;&#x7EC8;&#x7684;&#x5C55;&#x793A;&#x6307;&#x6807;&#x8F93;&#x51FA;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E1A;&#x52A1;&#x903B;&#x8F91;mapreduce&#x5904;&#x7406;&#x5B8C;&#x4E86;&#x8F6C;&#x6362;&#x4E3A;tsv&#xFF0C;&#x63A5;&#x7740;&#x8F6C;&#x6362;&#x4E3A;hfile&#xFF0C;&#x6216;&#x8005;&#x76F4;&#x63A5;&#x5BFC;&#x5165;&#x5230;hbase&#x4E2D;&#xFF08;&#x8DF3;&#x8FC7;&#x751F;&#x6210;hfile&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x8FD9;&#x6837;&#xFF0C;&#x6BD4;&#x8F83;&#x6162;&#xFF09;&#x3002;<br>&#x672C;&#x6587;&#x603B;&#x7ED3;&#x7684;&#x662F;&#x5728;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x5230;&#x7684;&#x5404;&#x79CD;&#x95EE;&#x9898;&#x3002;<br><a id="more"></a></p><h2 id="&#x95EE;&#x9898;&#x89E3;&#x51B3;"><a href="#&#x95EE;&#x9898;&#x89E3;&#x51B3;" class="headerlink" title="&#x95EE;&#x9898;&#x89E3;&#x51B3;"></a>&#x95EE;&#x9898;&#x89E3;&#x51B3;</h2></blockquote><p>&#x2460;: &#x6570;&#x636E;&#x91CF;&#x5927;&#x5BFC;&#x81F4;&#x7684;Trying to load more than 32 hfiles to one family of one region</p><blockquote><p>&#x4ECE;&#x5B57;&#x9762;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8BE5;&#x9519;&#x8BEF;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x6BCF;&#x4E2A;region&#x7684;&#x6BCF;&#x4E2A;family&#x4E2D;&#x53EA;&#x80FD;&#x5BFC;&#x5165;32&#x4E2A;hfiles&#xFF0C;&#x8D85;&#x8FC7;&#x8BE5;&#x9650;&#x5236;&#x5C31;&#x4F1A;&#x62A5;&#x9519;&#x3002;<br>&#x8BE5;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;<br>/conf/hbase-site.xml<br></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">name</span>&gt;</span>hbase.mapreduce.bulkload.max.hfiles.perRegion.perFamily<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">value</span>&gt;</span>32<span class="tag">&lt;/<span class="name">value</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></div></pre></td></tr></tbody></table></figure><p></p><p>&#x7B2C;&#x4E00;&#x601D;&#x8DEF;&#x80AF;&#x5B9A;&#x662F;&#x4FEE;&#x6539;&#x8BE5;&#x914D;&#x7F6E;&#x4E3A;9999&#x7136;&#x540E;&#x91CD;&#x542F;hbase&#x641E;&#x5B9A;&#xFF0C;&#x4F46;&#x662F;&#x660E;&#x663E;&#x5728;&#x751F;&#x6210;&#x73AF;&#x5883;&#x8BE5;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6251;&#x8857;&#xFF0C;&#x540E;&#x6765;&#x67E5;&#x6587;&#x6863;&#x5F97;&#x77E5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5BFC;&#x5165;&#x7684;&#x65F6;&#x5019;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x641E;&#x5B9A;&#xFF0C;&#x6240;&#x4EE5;&#x51C6;&#x5907;&#x901A;&#x8FC7;&#x8BE5;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF0C;&#x5177;&#x4F53;&#x505A;&#x6CD5;&#x4E3A;&#xFF1A;&#x5F53;&#x751F;&#x6210;hfile&#x4EE5;&#x540E;&#x6211;&#x4EEC;&#x7EDF;&#x8BA1;&#x4E0B;hfile&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x8868;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x53EA;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5217;&#x65CF;&#xFF0C;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x7684;&#x786E;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x505A;&#x6CD5;&#x5C31;&#x662F;&#x628A;&#x8BE5;&#x53C2;&#x6570;&#x7684;&#x503C;&#x5B9A;&#x4F4D;hfile&#x7684;&#x4E2A;&#x6570;&#x52A0;&#x4E00;&#xFF0C;&#x52A0;&#x8F7D;&#x8BE5;&#x914D;&#x7F6E;&#x7136;&#x540E;&#x518D;buldload&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x5F02;&#x5E38;&#x3002;<br>ps:&#x8BE5;bug&#x5728;&#x9AD8;&#x7248;&#x672C;&#x5DF2;&#x7ECF;&#x4FEE;&#x590D;&#x3002;</p></blockquote><p>&#x2461;: &#x5728;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5230;hbase&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x62A5;&#x9519;&#x5982;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x627E;&#x4E86;&#x5F88;&#x4E45;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x7EC8;&#x4E8E;&#x5F97;&#x5230;&#x89E3;&#x51B3;&#xFF0C;</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">LoadIncrementalHFiles loader = <span class="keyword">new</span> LoadIncrementalHFiles(HBaseConfiguration.create(conf2));</div><div class="line">String[] args = {dataNodesFsName+ bulkOutput, tableName};</div><div class="line"><span class="keyword">int</span> run = loader.run(args);</div><div class="line">ERROR mapreduce.LoadIncrementalHFiles: Encountered unrecoverable error from region server, additional details: row <span class="string">&apos;&apos;</span> on table <span class="string">&apos;test&apos;</span> at region=test,,<span class="number">1513078392894</span>.d1f8ece46dc8706c9594094d6d5c15c0., hostname=hostxxx,<span class="number">60020</span>,<span class="number">1512527608669</span>, seqNum=<span class="number">2</span></div></pre></td></tr></tbody></table></figure><blockquote><p>&#x539F;&#x672C;&#x4ECE;&#x5B57;&#x9762;&#x610F;&#x601D;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x662F;&#x5B58;&#x5728;&#x7A7A;&#x7684;rowkey&#x627E;&#x4E0D;&#x5230;&#x5BF9;&#x5E94;&#x7684;region&#xFF08;mapping&#x4E0D;&#x5230;startkey_endkey&#xFF09;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x8FC7;&#x6EE4;&#x4E86;&#x591A;&#x6B21;hdfs&#x7684;key,&#x53D1;&#x73B0;&#x5E76;&#x6CA1;&#x6709;&#x6B64;&#x95EE;&#x9898;&#x5B58;&#x5728;&#xFF0C;&#x6700;&#x7EC8;&#x770B;&#x4E86;&#x5F88;&#x591A;google&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x8BD5;&#x4E86;&#x5982;&#x4E0B;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF0C;&#x987A;&#x5229;&#x5BFC;&#x5165;&#x6570;&#x636E;</p></blockquote><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#x51FA;&#x73B0;&#x4E0A;&#x9762;&#x5F02;&#x5E38;&#x7684;&#x539F;&#x56E0;&#x662F;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684;&#x7528;&#x6237;&#x6743;&#x9650;&#x4E0D;&#x591F;&#xFF1A; </div><div class="line">&#x4E24;&#x79CD;&#x65B9;&#x6848;&#xFF1A; </div><div class="line">1.&#x7ED9;output&#x76EE;&#x5F55;&#xFF08;hfile&#x7684;&#x5B58;&#x5728;&#x76EE;&#x5F55;&#xFF09;&#x8D4B;&#x4E88;&#x6743;&#x9650;</div><div class="line"></div><div class="line">hadoop fs -chmod -R 777 $output</div><div class="line"></div><div class="line">2.&#x5207;&#x6362;&#x6210;&#x6709;&#x6743;&#x9650;&#x64CD;&#x505A;&#x7684;&#x7528;&#x6237;&#x6267;&#x884C;&#x3002;eg:sudo -u hbase</div></pre></td></tr></tbody></table></figure><p>&#x2462;: &#x6CA1;&#x6709;&#x9884;&#x5206;&#x533A;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x7279;&#x522B;&#x6162;&#xFF0C;&#x53EA;&#x5206;&#x914D;&#x4E86;&#x4E24;&#x4E2A;&#x865A;&#x62DF;&#x5185;&#x6838;&#x548C;&#x4E24;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x8DD1;&#x7684;&#x5F88;&#x6162;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;reduce&#x5728;&#x8DD1;&#xFF08;HBase&#x9ED8;&#x8BA4;&#x5EFA;&#x8868;&#x65F6;&#x6709;&#x4E00;&#x4E2A;region)&#xFF0C;&#x8DD1;&#x7684;&#x5F88;&#x6162;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E86;reduce&#x4E2A;&#x6570;&#x4E5F;&#x8FD8;&#x662F;&#x6CA1;&#x6709;&#x594F;&#x6548;&#xFF0C;&#x540E;&#x6765;&#x67E5;&#x8BE2;api&#x8DDF;&#x8E2A;&#x6E90;&#x7801;&#x53D1;&#x73B0;&#x6709;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;:</p><blockquote><p>1.&#x9700;&#x8981;&#x751F;&#x6210;hfile&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x5982;&#x4E0B;:</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">HTable table = <span class="keyword">new</span> HTable(conf, tableName);</div><div class="line">job.setReducerClass(PutSortReducer.class);</div><div class="line">Path outputDir = <span class="keyword">new</span> Path(hfileOutPath);</div><div class="line">FileOutputFormat.setOutputPath(job, outputDir);</div><div class="line">job.setMapOutputKeyClass(ImmutableBytesWritable.class);</div><div class="line">job.setMapOutputValueClass(Put.class);</div><div class="line">job.setOutputFormatClass(HFileOutputFormat.class);</div><div class="line">HFileOutputFormat.configureIncrementalLoad(job, table);</div><div class="line"></div><div class="line"><span class="comment">// Use table&apos;s region boundaries for TOP split points.</span></div><div class="line">LOG.info(<span class="string">&quot;Looking up current regions for table &quot;</span> + table.getName());</div><div class="line">List&lt;ImmutableBytesWritable&gt; startKeys = getRegionStartKeys(regionLocator);</div><div class="line">LOG.info(<span class="string">&quot;Configuring &quot;</span> + startKeys.size() + <span class="string">&quot; reduce partitions &quot;</span> +</div><div class="line"><span class="string">&quot;to match current region count&quot;</span>);</div><div class="line">job.setNumReduceTasks(startKeys.size());</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x5982;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8BE5;&#x79CD;&#x9014;&#x5F84;reduce&#x7684;&#x7684;&#x4E2A;&#x6570;&#x548C;regions&#x7684;&#x4E2A;&#x6570;&#x6709;&#x5173;&#x7CFB;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4F60;&#x8981;&#x9884;&#x5206;&#x533A;&#xFF01;&#xFF01;&#xFF01;<br>&#x9ED8;&#x8BA4;&#x5730;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x53EA;&#x662F;&#x901A;&#x8FC7;HBaseAdmin&#x6307;&#x5B9A;TableDescriptor&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x5F20;&#x8868;&#x65F6;&#xFF0C;start-end key&#x65E0;&#x8FB9;&#x754C;&#xFF0C;region&#x7684;size&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#x65F6;&#xFF0C;&#x5927;&#x5230; &#x4E00;&#x5B9A;&#x7684;&#x9600;&#x503C;&#xFF0C;&#x5C31;&#x4F1A;&#x627E;&#x5230;&#x4E00;&#x4E2A;midKey&#x5C06;region&#x4E00;&#x5206;&#x4E3A;&#x4E8C;&#xFF0C;&#x6210;&#x4E3A;2&#x4E2A;region,&#x8FD9;&#x4E2A;&#x8FC7; &#x7A0B;&#x79F0;&#x4E3A;&#x5206;&#x88C2;(region-split).&#x800C;midKey&#x5219;&#x4E3A;&#x8FD9;&#x4E8C;&#x4E2A;region&#x7684;&#x4E34;&#x754C;,&#x4F46;&#x662F;&#x4F60;&#x53EA;&#x662F;&#x7528;&#x6765;&#x751F;&#x6210;hfile&#x7684;&#x8BDD;&#xFF0C;&#x7528;&#x7684;&#x4E00;&#x76F4;&#x662F;&#x4E00;&#x4E2A;reduce&#xFF0C;&#x6CA1;&#x6709;&#x88C2;&#x53D8;&#x8FC7;&#x7A0B;&#x3002;</p><p>2.&#x4E0D;&#x9700;&#x8981;&#x751F;&#x6210;Hfile&#xFF0C;&#x76F4;&#x63A5;&#x5BFC;&#x5165;&#x60C5;&#x51B5;:</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// &#x76F4;&#x63A5;&#x5199;&#x5165;HBase&#x8868;</span></div><div class="line">TableMapReduceUtil.initTableReducerJob(tableName, <span class="keyword">null</span>, job);</div><div class="line">job.setNumReduceTasks(<span class="number">0</span>);</div><div class="line"></div><div class="line"><span class="keyword">int</span> regions = MetaTableAccessor.getRegionCount(conf, TableName.valueOf(table));</div><div class="line"><span class="keyword">if</span> (job.getNumReduceTasks() &gt; regions) {</div><div class="line">job.setNumReduceTasks(regions);</div><div class="line">}</div></pre></td></tr></tbody></table></figure><blockquote><p>&#x5982;&#x4E0A;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6765;&#xFF0C;&#x5C31;&#x7B97;&#x4F60;&#x8BBE;&#x7F6E;&#x4E86;&#xFF0C;&#x6BDB;&#x7528;&#x6CA1;&#x6709;&#xFF0C;&#x8FD8;&#x662F;&#x4F1A;&#x6839;&#x636E;regions&#x4E2A;&#x6570;&#x53BB;&#x8BBE;&#x5B9A;reduce&#x4E2A;&#x6570;&#xFF0C;&#x5176;&#x5B9E;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6765;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5176;&#x5B9E;&#x4E5F;&#x7528;&#x4E0D;&#x5230;reduce&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x65E6;&#x4F60;&#x7528;&#x5230;&#x7684;&#xFF08;&#x6709;&#x4E1A;&#x52A1;&#x8981;&#x6C42;&#xFF09;&#xFF0C;&#x4F60;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x9884;&#x5206;&#x533A;&#xFF01;&#xFF01;&#xFF01;&#xFF0C;&#x8FD9;&#x79CD;&#x4E5F;&#x5C5E;&#x4E8E;start-end key&#x65E0;&#x8FB9;&#x754C;&#xFF0C;region&#x7684;size&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#x65F6;&#xFF0C;&#x5927;&#x5230; &#x4E00;&#x5B9A;&#x7684;&#x9600;&#x503C;&#xFF0C;&#x5C31;&#x4F1A;&#x627E;&#x5230;&#x4E00;&#x4E2A;midKey&#x5C06;region&#x4E00;&#x5206;&#x4E3A;&#x4E8C;&#xFF0C;&#x6210;&#x4E3A;2&#x4E2A;region,&#x8FD8;&#x662F;&#x9700;&#x8981;&#x5206;&#x88C2;&#x3002;</p></blockquote><h2 id="&#x9884;&#x5206;&#x533A;&#x65B9;&#x6CD5;"><a href="#&#x9884;&#x5206;&#x533A;&#x65B9;&#x6CD5;" class="headerlink" title="&#x9884;&#x5206;&#x533A;&#x65B9;&#x6CD5;"></a>&#x9884;&#x5206;&#x533A;&#x65B9;&#x6CD5;</h2><blockquote><p>&#x5408;&#x7406;&#x8BBE;&#x8BA1;rowkey &#x80FD;&#x8BA9;&#x5404;&#x4E2A;region &#x7684;&#x5E76;&#x53D1;&#x8BF7;&#x6C42; &#x5E73;&#x5747;&#x5206;&#x914D;(&#x8D8B;&#x4E8E;&#x5747;&#x5300;) &#x4F7F;IO &#x6548;&#x7387;&#x8FBE;&#x5230;&#x6700;&#x9AD8;.<br><strong>&#x4E0D;&#x9884;&#x5206;&#x533A;&#x5BFC;&#x81F4;&#x7684;&#x95EE;&#x9898;</strong>:<br>1.&#x603B;&#x662F;&#x5F80;&#x6700;&#x5927;start-key&#x7684;region&#x5199;&#x8BB0;&#x5F55;&#xFF0C;&#x4E4B;&#x524D;&#x5206;&#x88C2;&#x51FA;&#x6765;&#x7684;region&#x4E0D;&#x4F1A;&#x518D;&#x88AB;&#x5199;&#x6570;&#x636E;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x5904;&#x4E8E;&#x534A;&#x6EE1;&#x72B6;&#x6001;<br>2.split&#x662F;&#x6BD4;&#x8F83;&#x8017;&#x65F6;&#x8017;&#x8D44;&#x6E90;<br>&#x6267;&#x884C;&#x53C2;&#x8003;&#x8BED;&#x53E5;&#x5982;&#x4E0B;:<br></p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="string">&apos;split_table_test&apos;</span>,{<span class="keyword">NAME</span> =&gt;<span class="string">&apos;cf&apos;</span>, COMPRESSION =&gt; <span class="string">&apos;SNAPPY&apos;</span>}, {SPLITS_FILE =&gt; <span class="string">&apos;region_split_info.txt&apos;</span>}</div></pre></td></tr></tbody></table></figure><p></p><p>&#x9996;&#x5148;&#x5C31;&#x662F;&#x8981;&#x60F3;&#x660E;&#x767D;&#x6570;&#x636E;&#x7684;key&#x662F;&#x5982;&#x4F55;&#x5206;&#x5E03;&#x7684;&#xFF0C;&#x7136;&#x540E;&#x89C4;&#x5212;&#x4E00;&#x4E0B;&#x8981;&#x5206;&#x6210;&#x591A;&#x5C11;region&#xFF0C;&#x6BCF;&#x4E2A;region&#x7684;startkey&#x548C;endkey&#x662F;&#x591A;&#x5C11;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x89C4;&#x5212;&#x7684;key&#x5199;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x3002;<br>&#x9884;&#x5206;&#x533A;&#x9700;&#x8981;&#x5C06;hbase.hregion.max.filesize&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x8F83;&#x5927;&#x7684;&#x503C;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;10G&#xFF08;0.94.3 &#xFF09; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5355;&#x4E2A;region &#x9ED8;&#x8BA4;&#x5927;&#x5C0F;&#x662F;10G,&#x5982;&#x679C;&#x4F60;&#x7684;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x6E90;&#x4E2D;&#x7684;key&#x8BBE;&#x8BA1;&#x7684;&#x5341;&#x5206;&#x5408;&#x7406;,&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;&#x6765;&#x505A;rowkey,&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8BE5;&#x503C;&#x8BBE;&#x7F6E;&#x5927;&#x70B9;,&#x7136;&#x540E;&#x9884;&#x4F30;&#x4E0B;&#x603B;&#x5171;&#x9700;&#x8981;&#x9884;&#x5206;&#x533A;&#x591A;&#x5C11;&#x4E2A;,&#x540C;&#x65F6;&#x4E5F;&#x5C31;&#x53EF;&#x4EE5;&#x5B9A;&#x4F4D;&#x597D;endkey. &#x603B;&#x884C;&#x6570;(&#x6570;&#x636E;&#x4E0D;&#x91CD;&#x590D;)/(&#x6570;&#x636E;&#x6E90;&#x6587;&#x4EF6;&#x5927;&#x5C0F;/filesize)&#x53EF;&#x4EE5;&#x62FF;&#x5230;&#x5206;&#x5272;&#x6570;&#x636E;&#x7684;&#x4F9D;&#x636E;,&#x7136;&#x540E;&#x5229;&#x7528;split shell&#x5207;&#x5272;&#x6587;&#x4EF6;,&#x540C;&#x65F6;tail -1 &#x5C31;&#x53EF;&#x4EE5;&#x62FF;&#x5230;endkey,&#x628A;endkey&#x653E;&#x5230;&#x540C;&#x4E00;&#x4E2A;splitfile&#x4E2D;&#x4F5C;&#x4E3A;&#x5206;&#x533A;&#x4F9D;&#x636E;.</p></blockquote><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x516C;&amp;#x53F8;&amp;#x73B0;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E00;&amp;#x6279;&amp;#x753B;&amp;#x50CF;&amp;#x9700;&amp;#x8981;&amp;#x5BFC;&amp;#x5165;&amp;#x5230;hbase&amp;#x4E2D;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x8BE5;&amp;#x753B;&amp;#x50CF;&amp;#x8FD8;&amp;#x9700;&amp;#x8981;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x5904;&amp;#x7406;&amp;#x624D;&amp;#x80FD;&amp;#x4F5C;&amp;#x4E3A;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x5C55;&amp;#x793A;&amp;#x6307;&amp;#x6807;&amp;#x8F93;&amp;#x51FA;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x81EA;&amp;#x5DF1;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E1A;&amp;#x52A1;&amp;#x903B;&amp;#x8F91;mapreduce&amp;#x5904;&amp;#x7406;&amp;#x5B8C;&amp;#x4E86;&amp;#x8F6C;&amp;#x6362;&amp;#x4E3A;tsv&amp;#xFF0C;&amp;#x63A5;&amp;#x7740;&amp;#x8F6C;&amp;#x6362;&amp;#x4E3A;hfile&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x76F4;&amp;#x63A5;&amp;#x5BFC;&amp;#x5165;&amp;#x5230;hbase&amp;#x4E2D;&amp;#xFF08;&amp;#x8DF3;&amp;#x8FC7;&amp;#x751F;&amp;#x6210;hfile&amp;#x8FC7;&amp;#x7A0B;&amp;#xFF0C;&amp;#x4E0D;&amp;#x5EFA;&amp;#x8BAE;&amp;#x8FD9;&amp;#x6837;&amp;#xFF0C;&amp;#x6BD4;&amp;#x8F83;&amp;#x6162;&amp;#xFF09;&amp;#x3002;&lt;br&gt;&amp;#x672C;&amp;#x6587;&amp;#x603B;&amp;#x7ED3;&amp;#x7684;&amp;#x662F;&amp;#x5728;&amp;#x6570;&amp;#x636E;&amp;#x5BFC;&amp;#x5165;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x9047;&amp;#x5230;&amp;#x7684;&amp;#x5404;&amp;#x79CD;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;br&gt;
    
    </summary>
    
    
      <category term="hbase bulkload error" scheme="https://tangyuxiaoyao.github.io/ITWO/tags/hbase-bulkload-error/"/>
    
  </entry>
  
  <entry>
    <title>yarn 详解</title>
    <link href="https://tangyuxiaoyao.github.io/ITWO/2017/12/22/yarn-%E8%AF%A6%E8%A7%A3/"/>
    <id>https://tangyuxiaoyao.github.io/ITWO/2017/12/22/yarn-详解/</id>
    <published>2017-12-22T08:02:53.000Z</published>
    <updated>2018-03-23T03:11:45.134Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><h2 id="&#x9700;&#x6C42;&#x80CC;&#x666F;"><a href="#&#x9700;&#x6C42;&#x80CC;&#x666F;" class="headerlink" title="&#x9700;&#x6C42;&#x80CC;&#x666F;"></a>&#x9700;&#x6C42;&#x80CC;&#x666F;</h2><blockquote><p>yarn &#x4F5C;&#x4E3A;hadoop2.0&#x7684;&#x65B0;&#x7279;&#x6027;&#xFF0C;&#x4F7F;&#x7528;&#x4E86;&#x8FD9;&#x4E48;&#x4E45;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x628A;&#x6982;&#x5FF5;&#x91CD;&#x65B0;&#x8FC7;&#x4E00;&#x904D;&#x3002;<br>&#x6E29;&#x6545;&#x77E5;&#x65B0;&#xFF0C;&#x67E5;&#x7F3A;&#x8865;&#x6F0F;&#x3002;<a id="more"></a></p></blockquote><h2 id="&#x51FA;&#x73B0;&#x80CC;&#x666F;"><a href="#&#x51FA;&#x73B0;&#x80CC;&#x666F;" class="headerlink" title="&#x51FA;&#x73B0;&#x80CC;&#x666F;"></a>&#x51FA;&#x73B0;&#x80CC;&#x666F;</h2><blockquote><p>&#x5728;hadoop1.0&#x4F53;&#x7CFB;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4F7F;&#x7528;client&#x63D0;&#x4EA4;&#x4EFB;&#x52A1;&#x4F1A;&#x63D0;&#x4EA4;&#x7ED9;JobTracker&#xFF0C;&#x7136;&#x540E;jobTracker&#x4F1A;&#x6839;&#x636E;&#x96C6;&#x7FA4;&#x73B0;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x5206;&#x914D;&#x8D44;&#x6E90;&#x7ED9;&#x8BE5;&#x8BF7;&#x6C42;,&#x8D1F;&#x8D23;&#x4EFB;&#x52A1;&#x7684;&#x76D1;&#x63A7;&#x548C;&#x4EFB;&#x52A1;&#x7684;&#x91CD;&#x8BD5;&#x673A;&#x5236;&#xFF08;&#x5931;&#x8D25;&#x2192;&#x91CD;&#x542F;&#xFF09;&#xFF0C;TaskTracker&#x901A;&#x8FC7;&#x5FC3;&#x8DF3;&#x673A;&#x5236;&#x628A;&#x5F53;&#x524D;&#x4EFB;&#x52A1;&#x7684;&#x72B6;&#x6001;&#x4EE5;&#x53CA;&#x81EA;&#x5DF1;&#x7684;&#x72B6;&#x6001;&#x62A5;&#x544A;&#x7ED9;jobTracker&#x3002;<br>jobTracker&#x7684;&#x804C;&#x8D23;:</p></blockquote><ol><li>&#x63A5;&#x53D7;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x5355;&#x63D0;&#x4EA4;&#x4E0A;&#x6765;&#x7684;&#x4EFB;&#x52A1;&#x8BF7;&#x6C42;&#x3002;</li><li>&#x76D1;&#x63A7;&#x548C;&#x4FDD;&#x6301;TaskTracker&#x7684;&#x5B58;&#x6D3B;&#xFF0C;&#x63A7;&#x5236;map&#x548C;reduce slot&#x7684;&#x6570;&#x91CF;&#x3002;</li><li>&#x76D1;&#x63A7;&#x96C6;&#x7FA4;&#x4E0A;&#x7684;job&#x4EE5;&#x53CA;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#x3002;</li><li><p>&#x6307;&#x5BFC; TaskTracker &#x542F;&#x52A8; map &#x548C; reduce &#x4EFB;&#x52A1;</p><blockquote><p>TaskTracker&#x7684;&#x804C;&#x8D23;</p></blockquote></li></ol><ol><li>&#x8FD0;&#x884C;map&#x548C;reduce&#x4EFB;&#x52A1;&#x3002;</li><li>&#x62A5;&#x544A;&#x8BE6;&#x60C5;&#x7ED9; jobTracker&#x3002;</li></ol><blockquote><p>&#x5F0A;&#x7AEF;:</p></blockquote><ol><li>&#x53EA;&#x6709;&#x4E00;&#x4E2A;jobTrakcer&#xFF0C;&#x7F3A;&#x4E4F;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x4E00;&#x65E6;&#x5B95;&#x673A;&#xFF0C;&#x6574;&#x4E2A;&#x96C6;&#x7FA4;&#x762B;&#x75EA;&#x3002;</li><li>slot&#x673A;&#x5236;&#x7EA6;&#x675F;&#x4E86;map&#x8282;&#x70B9;&#x53EA;&#x80FD;&#x8FD0;&#x884C;&#x7684;&#x8282;&#x70B9;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;&#x5206;&#x914D;&#x7684;slot&#x4E0A;&#x9650;&#xFF0C;reduce&#x4EA6;&#x7136;&#x3002;</li></ol><h2 id="yarn&#x7684;&#x51FA;&#x73B0;"><a href="#yarn&#x7684;&#x51FA;&#x73B0;" class="headerlink" title="yarn&#x7684;&#x51FA;&#x73B0;"></a>yarn&#x7684;&#x51FA;&#x73B0;</h2><ul><li><p>ResourceManager &#x4EE3;&#x66FF;&#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x5668; </p><blockquote><p>&#x8D44;&#x6E90;&#x8C03;&#x5EA6;&#x5668;&#xFF0C;&#x5206;&#x914D;&#x8D44;&#x6E90;&#xFF0C;&#x76D1;&#x63A7;NM&#xFF0C;&#x534F;&#x8C03;&#x7528;&#x6237;&#x63D0;&#x4EA4;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x6570;&#x636E;&#x4F4D;&#x7F6E;&#x3001;&#x961F;&#x5217;&#x3001;&#x5BB9;&#x91CF;&#xFF0C;ACLS(&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5217;&#x8868;)&#x3002;</p></blockquote></li><li><p>ApplicationMaster &#x4EE3;&#x66FF;&#x4E00;&#x4E2A;&#x4E13;&#x7528;&#x4E14;&#x77ED;&#x6682;&#x7684; JobTracker</p><blockquote><p>&#x7531;NM&#x542F;&#x52A8;&#xFF0C;&#x534F;&#x8C03;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x76D1;&#x63A7;&#x4EFB;&#x52A1;&#xFF0C;&#x5B9E;&#x73B0;&#x4EFB;&#x52A1;&#x7684;&#x91CD;&#x8BD5;&#x673A;&#x5236;;AM&#x548C;tasks&#x90FD;&#x8FD0;&#x884C;&#x5728;NM&#x63A7;&#x5236;&#x7684;container&#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C;&#x3002;<br>&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x4E0A;&#x7684;&#x5BB9;&#x5668;&#x6570;&#x91CF;&#xFF1A;&#x7531;&#x914D;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x548C;&#x9664;&#x53BB;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#x548C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E4B;&#x5916;&#x7684;&#x8282;&#x70B9;&#x8D44;&#x6E90;&#x603B;&#x91CF;&#xFF08;&#x6BD4;&#x5982;&#x603B; CPU &#x6570;&#x548C;&#x603B;&#x5185;&#x5B58;&#xFF09;&#x5171;&#x540C;&#x51B3;&#x5B9A;&#x3002;<br>&#x5F97;&#x76CA;&#x4E8E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x8F6C;&#x79FB;&#x5230;&#x4E86;AM&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x5404;&#x79CD;&#x5206;&#x5E03;&#x5F0F;&#x6846;&#x67B6;&#x53EA;&#x8981;&#x5B9E;&#x73B0;&#x4E86;AM,&#x5B9A;&#x5236;&#x4E2A;&#x6027;&#x5316;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x90FD;&#x4F1A;&#x53D7;YARN&#x7684;&#x652F;&#x6301;&#x3002;&#xFF08;MapReduce&#x3001;Giraph&#x3001;Storm&#x3001;Spark&#x3001;Tez/Impala&#x3001;MPI &#xFF09;</p></blockquote></li><li><p>NodeManager &#x4EE3;&#x66FF; TaskTracker </p></li></ul><ul><li>&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4EE3;&#x66FF;&#x4E00;&#x4E2A; MapReduce &#x4F5C;&#x4E1A;</li></ul><script src="/ITWO/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({});</script></body></html>]]></content>
    
    <summary type="html">
    
      &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h2 id=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x9700;&amp;#x6C42;&amp;#x80CC;&amp;#x666F;&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;yarn &amp;#x4F5C;&amp;#x4E3A;hadoop2.0&amp;#x7684;&amp;#x65B0;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x8FD9;&amp;#x4E48;&amp;#x4E45;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x628A;&amp;#x6982;&amp;#x5FF5;&amp;#x91CD;&amp;#x65B0;&amp;#x8FC7;&amp;#x4E00;&amp;#x904D;&amp;#x3002;&lt;br&gt;&amp;#x6E29;&amp;#x6545;&amp;#x77E5;&amp;#x65B0;&amp;#xFF0C;&amp;#x67E5;&amp;#x7F3A;&amp;#x8865;&amp;#x6F0F;&amp;#x3002;
    
    </summary>
    
    
  </entry>
  
</feed>
